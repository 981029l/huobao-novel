import{d as X,c as w,o as c,a as t,b as ce,G as K,H as F,e as ge,r as E,v as R,j as n,k as r,I as Te,i as d,s as P,q as _,x as y,B as V,F as ne,R as fe,E as he,J as Re,m as oe,h as B,D as N,K as q,L as De,A as z,M as Xe,O as $e,P as Ue,Q as Pe,f as Be,C as ze,z as Le,n as _e,S as We,T as Ee,w as Ve,u as Fe,U as qe,V as Ke,W as ae}from"./index-rX0A5NG0.js";import{P as He,T as Qe,D as J,C as Ce}from"./TrendingUpOutline-BbjHMSX9.js";const Ie={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Je=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),Ye=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),Ze=[Je,Ye],et=X({name:"ArrowBackOutline",render:function(o,s){return c(),w("svg",Ie,Ze)}}),tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},rt=t("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),nt=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 176L217.6 336L160 272"},null,-1),ot=[rt,nt],st=X({name:"CheckmarkCircleOutline",render:function(o,s){return c(),w("svg",tt,ot)}}),at={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},lt=t("rect",{x:"128",y:"128",width:"336",height:"336",rx:"57",ry:"57",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),it=t("path",{d:"M383.5 128l.5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),dt=[lt,it],le=X({name:"CopyOutline",render:function(o,s){return c(),w("svg",at,dt)}}),ut={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ct=t("path",{d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),gt=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 272l80 80l80-80"},null,-1),ht=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 48v288"},null,-1),pt=[ct,gt,ht],je=X({name:"DownloadOutline",render:function(o,s){return c(),w("svg",ut,pt)}}),xt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},mt=ce('<circle cx="128" cy="96" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="256" cy="416" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 256v112"></path><circle cx="384" cy="96" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path d="M128 144c0 74.67 68.92 112 128 112" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M384 144c0 74.67-68.92 112-128 112" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path>',6),ft=[mt],bt=X({name:"GitNetworkOutline",render:function(o,s){return c(),w("svg",xt,ft)}}),vt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},kt=ce('<path d="M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208s208-93.13 208-208S370.87 48 256 48z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><path d="M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><path d="M117.33 117.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M394.67 394.67c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M256 48v416"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M464 256H48"></path>',6),wt=[kt],yt=X({name:"GlobeOutline",render:function(o,s){return c(),w("svg",vt,wt)}}),$t={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_t=t("rect",{x:"48",y:"48",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ct=t("rect",{x:"288",y:"48",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),jt=t("rect",{x:"48",y:"288",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),St=t("rect",{x:"288",y:"288",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Gt=[_t,Ct,jt,St],de=X({name:"GridOutline",render:function(o,s){return c(),w("svg",$t,Gt)}}),Mt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ot=ce('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 144h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 256h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 368h288"></path><circle cx="80" cy="144" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="80" cy="256" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="80" cy="368" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',6),Nt=[Ot],be=X({name:"ListOutline",render:function(o,s){return c(),w("svg",Mt,Nt)}}),Tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Pt=ce('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M256 96V56"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M256 456v-40"></path><path d="M256 112a144 144 0 1 0 144 144a144 144 0 0 0-144-144z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M416 256h40"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M56 256h40"></path>',5),Bt=[Pt],zt=X({name:"LocateOutline",render:function(o,s){return c(),w("svg",Tt,Bt)}}),Lt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},At=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M364.13 125.25L87 403l-23 45l44.99-23l277.76-277.13l-22.62-22.62z"},null,-1),Rt=t("path",{d:"M420.69 68.69l-22.62 22.62l22.62 22.63l22.62-22.63a16 16 0 0 0 0-22.62h0a16 16 0 0 0-22.62 0z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Dt=[At,Rt],ue=X({name:"PencilOutline",render:function(o,s){return c(),w("svg",Lt,Dt)}}),Xt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ut=t("path",{d:"M112 111v290c0 17.44 17 28.52 31 20.16l247.9-148.37c12.12-7.25 12.12-26.33 0-33.58L143 90.84c-14-8.36-31 2.72-31 20.16z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Wt=[Ut],Ae=X({name:"PlayOutline",render:function(o,s){return c(),w("svg",Xt,Wt)}}),Et={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Vt=t("path",{d:"M400 148l-21.12-24.57A191.43 191.43 0 0 0 240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 0 0 181.07-128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Ft=t("path",{d:"M464 97.42V208a16 16 0 0 1-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z",fill:"currentColor"},null,-1),qt=[Vt,Ft],ie=X({name:"ReloadOutline",render:function(o,s){return c(),w("svg",Et,qt)}}),Kt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ht=t("path",{d:"M380.93 57.37A32 32 0 0 0 358.3 48H94.22A46.21 46.21 0 0 0 48 94.22v323.56A46.21 46.21 0 0 0 94.22 464h323.56A46.36 46.36 0 0 0 464 417.78V153.7a32 32 0 0 0-9.37-22.63zM256 416a64 64 0 1 1 64-64a63.92 63.92 0 0 1-64 64zm48-224H112a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16v64a16 16 0 0 1-16 16z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Qt=[Ht],Se=X({name:"SaveOutline",render:function(o,s){return c(),w("svg",Kt,Qt)}}),It={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Jt=t("path",{d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Yt=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M338.29 338.29L448 448"},null,-1),Zt=[Jt,Yt],me=X({name:"SearchOutline",render:function(o,s){return c(),w("svg",It,Zt)}}),er={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},tr=t("path",{d:"M259.92 262.91L216.4 149.77a9 9 0 0 0-16.8 0l-43.52 113.14a9 9 0 0 1-5.17 5.17L37.77 311.6a9 9 0 0 0 0 16.8l113.14 43.52a9 9 0 0 1 5.17 5.17l43.52 113.14a9 9 0 0 0 16.8 0l43.52-113.14a9 9 0 0 1 5.17-5.17l113.14-43.52a9 9 0 0 0 0-16.8l-113.14-43.52a9 9 0 0 1-5.17-5.17z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),rr=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M108 68L88 16L68 68L16 88l52 20l20 52l20-52l52-20l-52-20z"},null,-1),nr=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M426.67 117.33L400 48l-26.67 69.33L304 144l69.33 26.67L400 240l26.67-69.33L496 144l-69.33-26.67z"},null,-1),or=[tr,rr,nr],ve=X({name:"SparklesOutline",render:function(o,s){return c(),w("svg",er,or)}}),sr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ar=t("path",{d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),lr=t("path",{d:"M250.26 195.39l5.74 122l5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ir=t("path",{d:"M256 397.25a20 20 0 1 1 20-20a20 20 0 0 1-20 20z",fill:"currentColor"},null,-1),dr=[ar,lr,ir],re=X({name:"WarningOutline",render:function(o,s){return c(),w("svg",sr,dr)}}),ur=e=>`
‰Ω†ÊòØÁï™ËåÑÂ∞èËØ¥TOP10Á≠æÁ∫¶‰ΩúËÄÖÔºåÊìÖÈïøÂÜôËÆ©ËØªËÄÖ‰∏ÄÁßíÂÖ•ÂùëÁöÑÁÆÄ‰ªã„ÄÇ

‰∏ªÈ¢ò/ÂàõÊÑèÔºö${e.topic}
Á±ªÂûãÔºö${e.genre}
ÁØáÂπÖÔºöÁ∫¶${e.numberOfChapters}Á´†ÔºàÊØèÁ´†${e.wordNumber}Â≠óÔºâ

ËØ∑Ê†πÊçÆ‰∏äËø∞‰ø°ÊÅØÔºåÁîüÊàê‰∏ÄÁØá**Áï™ËåÑÂ∞èËØ¥È£éÊ†ºÁöÑÁÆÄ‰ªã/Ê†∏ÂøÉÁßçÂ≠ê**„ÄÇ

---

**„ÄêÊ†áÂáÜÁªìÊûÑ„Äë**

1. **‰∏ñÁïåËßÇ‰∏ÄÂè•ËØù**ÔºöÁî®‰∏ÄÂè•ËØùÂãæÂãíÂá∫Ëøô‰∏™‰∏ñÁïåÊúÄÊÆãÈÖ∑/ÊúÄÂê∏Âºï‰∫∫ÁöÑËßÑÂàô„ÄÇ

2. **‰∏ªËßíÂºÄÂ±ÄÂú∞Áã±ÈöæÂ∫¶**Ôºö
   - Ë∞ÅÔºü‰ªÄ‰πàË∫´‰ªΩÔºü
   - ÂºÄÂ±ÄÊúâÂ§öÊÉ®ÔºüÔºàÂëΩÊ†º/‰ΩìË¥®/Â§ÑÂ¢ÉÔºåË∂äÂÖ∑‰ΩìË∂äÂ•ΩÔºâ
   - Ë¢´Ë∞ÅË∏©ÔºüË¢´Ë∞ÅÁúã‰∏çËµ∑Ôºü

3. **ÈáëÊâãÊåáËßâÈÜí**Ôºö
   - ÂèëÁîü‰∫Ü‰ªÄ‰πàÂèòÂåñÔºü
   - ÈáëÊâãÊåáÁöÑÊ†∏ÂøÉËÉΩÂäõÊòØ‰ªÄ‰πàÔºü

4. **ÈáëÊâãÊåáÊïàÊûúÂ±ïÁ§∫Ôºà2-3‰∏™ÂÖ∑‰Ωì‰æãÂ≠êÔºâ**Ôºö
   - Áî®"Êüê‰∏™Á†¥‰∏úË•ø ‚Üí „Äê‰øÆÊîπ/ÂçáÁ∫ßÂêé„Äë‚Üí ÈÄÜÂ§©ÊïàÊûú"ÁöÑÊ†ºÂºèÂ±ïÁ§∫„ÄÇ
   - Ë¶ÅÊúâÁîªÈù¢ÊÑüÔºåËÆ©ËØªËÄÖËÉΩÊÉ≥Ë±°Âà∞ÁàΩÁÇπ„ÄÇ

5. **ÂØπÊïå‰∫∫ÁöÑÊâìËÑ∏È¢ÑÂëä**Ôºö
   - Áî®ÂØπËØùÊàñÂú∫ÊôØÔºåÂ±ïÁ§∫‰∏ªËßíÂ¶Ç‰ΩïÁ¢æÂéãÈÇ£‰∫õÊõæÁªèÁúã‰∏çËµ∑‰ªñÁöÑ‰∫∫„ÄÇ
   - Ë¶ÅÊúâÂò≤ËÆΩÊÑü/ÁàΩÊÑü„ÄÇ

6. **Èú∏Ê∞îTagline**Ôºö
   - ÁªìÂ∞æÁî®‰∏ÄÂè•ËØùÊ¶ÇÊã¨‰∏ªËßíÁöÑÊÄÅÂ∫¶/ÈáéÂøÉ„ÄÇ
   - Ë¶ÅÊúâ"ÈáëÂè•"ÊÑüÔºåËÆ©ËØªËÄÖÊÉ≥Êà™ÂõæÂàÜ‰∫´„ÄÇ

---

**„ÄêÁ§∫‰æãÈ£éÊ†ºÂèÇËÄÉ„Äë**

Ôºà‰Ω†ÁîüÊàêÁöÑÂÜÖÂÆπÂ∫îËØ•ÂÉèËøôÊ†∑Ôºå‰ΩÜÂÜÖÂÆπË¶ÅÂÆåÂÖ®ÂéüÂàõÔºâ

> **Á©øË∂äXXÁïåÔºåËøôÊòØ‰∏Ä‰∏™XXÂÜ≥ÂÆöÂëΩËøêÁöÑ‰∏ñÁïå„ÄÇ**
> Ê≤°ÊúâXXÔºüÈÇ£‰Ω†ÁªàÂÖ∂‰∏ÄÁîüÔºå‰πüÂè™ËÉΩÂÅö‰∏™XX„ÄÇ
> ÊûóÂá°ÂºÄÂ±Ä‰æøÊòØÂú∞Áã±ÈöæÂ∫¶ÔºöXXÂÆóÁöÑ‰∏ÄÂêçÂçëÂæÆÊùÇÂΩπÔºåÂëΩÊ†º„ÄêXX‰πãÁõ∏„Äë...
> Áõ¥Âà∞‰ªñÂèëÁé∞ÔºåËá™Â∑±Áúº‰∏≠ÁöÑ‰∏ñÁïåÂèò‰∫Ü‚Äî‚Äî‰∏áÁâ©ÁöÜÊúâXXÔºåËÄå‰ªñÔºåÊã•ÊúâÂîØ‰∏ÄÁöÑ**XXÊùÉÈôê**ÔºÅ
> Êâã‰∏≠ÁöÑÂ∫üÈìÅÂâëÊòØ„ÄêXXÔºàÁÅ∞Ôºâ„ÄëÔºü‚Äî‚Äî‰øÆÊîπÔºÅË¶ÜÁõñ„ÄêXXÔºàÈáëÔºâ„Äë...
> **"‰ªÄ‰πàÔºü‰Ω†ËØ¥‰Ω†ÊòØXXÔºü"**
> ÊûóÂá°ÂæÆÂæÆ‰∏ÄÁ¨ëÔºåÁÇπÂáª‰∫Ü„ÄêÂÖ®ÈÄâÂà†Èô§„Äë„ÄÇ
> **Ëøô‰∏Ä‰∏ñÔºåÊàë‰∏çÊ±ÇXXÔºåÂè™ÈóÆ‰∏ÄÂè•ÔºöÈòÅ‰∏ãÁöÑXXÔºå‰øùÁÜüÂêóÔºü**

---

**Á°¨ÊÄßË¶ÅÊ±Ç**Ôºö
1. ÂøÖÈ°ªÊúâ2-3‰∏™ÈáëÊâãÊåáÊïàÊûúÁöÑ**ÂÖ∑‰ΩìÂ±ïÁ§∫**Ôºå‰∏çËÉΩÂè™ÊòØÂπ≤Â∑¥Â∑¥ÁöÑËÆæÂÆö„ÄÇ
2. ÂøÖÈ°ªÊúâÂØπËØùÊàñÂú∫ÊôØÂ±ïÁ§∫ÊâìËÑ∏È¢ÑÂëä„ÄÇ
3. ÁªìÂ∞æÂøÖÈ°ªÊúâ‰∏ÄÂè•Èú∏Ê∞îTagline„ÄÇ
4. ÂÖ®Êñá300-600Â≠óÔºå‰øùÊåÅËäÇÂ•èÁ¥ßÂáëÔºå‰∏ÄÊ∞îÂëµÊàê„ÄÇ
5. Á¶ÅÊ≠¢Áî®"Êú¨‰π¶ËÆ≤Ëø∞‰∫Ü..."ËøôÁßçÁ¨¨‰∏âÊñπËßÜËßí„ÄÇ

‰ªÖËøîÂõûÁÆÄ‰ªãÊ≠£ÊñáÔºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ
`,cr=e=>`
Âü∫‰∫é‰ª•‰∏ãÂÖÉÁ¥†Ôºö
- Â∞èËØ¥Á±ªÂûãÔºö${e.genre||"ÁàΩÊñá"}
- ÂÜÖÂÆπÊåáÂØºÔºö${e.userGuidance||"Êó†"}
- Ê†∏ÂøÉÁßçÂ≠êÔºö${e.coreSeed}

ËØ∑ËÆæËÆ°‚ÄúÁï™ËåÑÂèØËøûËΩΩËßíËâ≤Áè≠Â∫ï‚ÄùÔºåÂÖ±3-6‰∏™Ê†∏ÂøÉËßíËâ≤ÔºåÂøÖÈ°ªÂåÖÂê´Ôºö
- ‰∏ªËßíÔºàÂîØ‰∏ÄÂèô‰∫ã‰∏≠ÂøÉÔºâ
- ‰∏ÄÁ∫ßÂèçÊ¥æÔºàÂΩìÂâçÂç∑ÊâìËÑ∏ÂØπË±°Ôºâ
- ‰∫åÁ∫ßÂèçÊ¥æÊàñÂπïÂêéÂäøÂäõÔºàÂêéÁª≠Âç∑ÂéãÂäõÊ∫êÔºâ
- 1-3‰∏™ÂäüËÉΩÈÖçËßíÔºàÂ•≥‰∏ª/Êê≠Ê°£/Â∞èÂºü/ÂØºÂ∏àÔºâ

ËæìÂá∫Ê†ºÂºèÔºàÊØè‰∏™ËßíËâ≤ÈÉΩ‰∏•Ê†ºÊåâÊ≠§ÁªìÊûÑÔºâÔºö
„ÄêËßíËâ≤ÂêçÔΩúÂÆö‰Ωç„Äë
- ‰∏ÄÁúºÊ†áÁ≠æÔºö
- Á´ãÂú∫‰∏éÁõÆÊ†áÔºö
- ‰∏é‰∏ªËßíÂÜ≤Á™Å/Âà©ÁõäÁÇπÔºö
- ÂèØË¢´ÊâìËÑ∏ÁÇπÔºàÂº±ÁÇπÔºâÔºö
- Ê†áÂøóÂè∞ËØçÔºà15Â≠óÂÜÖÔºâÔºö
- ËøëÊúüÂâßÊÉÖÂäüËÉΩÔºà3Á´†ÂÜÖÔºâÔºö

Á°¨ÊÄßË¶ÅÊ±ÇÔºö
1. ‰∏ªËßíÂøÖÈ°ªÂêåÊó∂ÂÖ∑Â§áÔºöÂºÄÂ±ÄÁº∫Âè£ + ÈÄÜÈ≥û + ÈáëÊâãÊåá + Áü≠ÊúüÁõÆÊ†á„ÄÇ
2. ÂèçÊ¥æËá≥Â∞ë‰∏§Á∫ßÈò∂Ê¢ØÔºå‰∏çËÉΩÂè™Êúâ‰∏Ä‰∏™ËÑ∏Ë∞±Êïå‰∫∫„ÄÇ
3. ÂêçÂ≠óË¶ÅÂ•ΩËÆ∞„ÄÅËØªÊÑüÈ°∫Âè£Ôºå‰∏çË¶ÅÁîüÂÉªÂ≠óÂ†ÜÁ†å„ÄÇ
4. ËßíËâ≤ÂäüËÉΩÂøÖÈ°ªÁõ¥Êé•ÊúçÂä°‚ÄúÂÜ≤Á™ÅÂçáÁ∫ß/ÁàΩÁÇπÂÖëÁé∞/Á´†Êú´Èí©Â≠ê‚Äù„ÄÇ
5. Á¶ÅÊ≠¢Â§çÊùÇÁæ§ÂÉèÂíåÁÅ∞Ëâ≤‰ª∑ÂÄºÊëáÊëÜÔºå‰ºòÂÖàÊ∏ÖÊô∞ÂØπÁ´ã„ÄÇ

Ë¶ÅÊ±ÇÔºö
‰ªÖÁªôÂá∫ÊúÄÁªàÊñáÊú¨Ôºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ
`,gr=e=>{const o=e.numberOfChapters||100,s=Math.max(8,Math.ceil(o/40)),g=Math.max(4,Math.ceil(o/80)),m=Math.max(5,Math.ceil(o/30));return`
Âü∫‰∫é‰ª•‰∏ãÂÖÉÁ¥†Ôºö
- Â∞èËØ¥Á±ªÂûãÔºö${e.genre||"ÁàΩÊñá"}
- ÂÜÖÂÆπÊåáÂØºÔºö${e.userGuidance||"Êó†"}
- Ê†∏ÂøÉÊïÖ‰∫ãÔºö"${e.coreSeed}"
- **ÊÄªÁØáÂπÖÔºö${o}Á´†**ÔºàËøôÂÜ≥ÂÆö‰∫Ü‰∏ñÁïåÁöÑÁ∫µÊ∑±Á®ãÂ∫¶ÔºÅÔºâ

ËØ∑ÊûÑÂª∫‰∏Ä‰∏™**ËÆ©ËØªËÄÖÊúüÂæÖÁöÑ‰∏ñÁïåÊ°ÜÊû∂**Ôºå‰∏çÊòØÁôæÁßëÂÖ®‰π¶ÂºèËÆæÂÆöÔºåËÄåÊòØ"ËØªËÄÖÊÉ≥ÁúãÂà∞‰ªÄ‰πàÂú∫ÊôØ"ÂØºÂêë„ÄÇ

‚ö†Ô∏è **ÁØáÂπÖË≠¶Âëä**ÔºöÊú¨‰π¶ÂÖ±${o}Á´†Ôºå‰Ω†ËÆæËÆ°ÁöÑÁ≠âÁ∫ß„ÄÅÂú∞Âõæ„ÄÅÂäøÂäõÂøÖÈ°ªË∂≥Â§üÊîØÊíëËøô‰∏™ÁØáÂπÖÔºÅ
- Â¶ÇÊûú100Á´†Â∞±ËÉΩÁôªÈ°∂ÔºåÈÇ£ÊòØÂ§±Ë¥•ÁöÑËÆæËÆ°„ÄÇ
- ‰∏ªËßíÂú®Á¨¨${Math.floor(o*.1)}Á´†Â∫îËØ•ËøòÂú®ÊúÄÂ∫ïÂ±ÇÊå£Êâé„ÄÇ
- ‰∏ªËßíÂú®Á¨¨${Math.floor(o*.5)}Á´†Â∫îËØ•ËøòÊúâÂ∑®Â§ßÁöÑÊàêÈïøÁ©∫Èó¥„ÄÇ
- ÁúüÊ≠£ÁöÑ"Â§©‰∏ãÁ¨¨‰∏Ä"Âè™ËÉΩÂú®ÊúÄÂêé5%ÁöÑÁ´†ËäÇÊâçËÉΩÂÆûÁé∞„ÄÇ

---

**„ÄêÁ¨¨‰∏ÄÈÉ®ÂàÜÔºöÂçáÁ∫ßÈò∂Ê¢Ø„Äë**Ôºà${s}Èò∂+Â≠êÁ≠âÁ∫ßÔºâ

‰Ω†ÈúÄË¶ÅËÆæËÆ°**${s}‰∏™Â§ßÂ¢ÉÁïå**ÔºåÊØè‰∏™Â§ßÂ¢ÉÁïåÂÜÖËøòÊúâ**9‰∏™Â∞èÈò∂ÊÆµ**ÔºàÂàùÊúü/‰∏≠Êúü/ÂêéÊúüÔºåÂêÑ3Â±ÇÔºâ„ÄÇ
ÊØè‰∏ÄÈò∂ÂøÖÈ°ªÂÜôÊ∏ÖÔºö
- Èó®ÊßõÊù°‰ª∂ÔºàÊÄé‰πàÊâçËÉΩÂçá‰∏äÂéªÔºåÈúÄË¶ÅÂ§öÂ∞ëËµÑÊ∫ê/Êó∂Èó¥Ôºâ
- ‰ª£Ë°®ËÉΩÂäõÔºàËøô‰∏™Á≠âÁ∫ßËÉΩÂÅö‰ªÄ‰πàÁâõÈÄº‰∫ãÔºâ
- ÂèØÁ¢æÂéãÂØπË±°ÔºàËÉΩÁßíÊùÄ‰ªÄ‰πàÁ∫ßÂà´ÁöÑ‰∫∫Ôºâ
- "‰∏ÄÈò∂Âéã‰∏ÄÈò∂"ÁöÑÁ§æ‰ºöÂæÖÈÅáÂ∑ÆË∑ù
- **Á™ÅÁ†¥ÈöæÂ∫¶**ÔºöÊôÆÈÄö‰∫∫ÈúÄË¶ÅÂ§öÂ∞ëÂπ¥ÔºüÂ§©ÊâçÈúÄË¶ÅÂ§öÂ∞ëÂπ¥Ôºü‰∏ªËßíÈ¢ÑËÆ°Âú®Á¨¨Âá†Á´†ËææÂà∞Ôºü

ÈáçË¶ÅÔºö
- Ââç3‰∏™Â¢ÉÁïåÂèØ‰ª•Âú®Ââç100Á´†ÂÆåÊàê
- ‰∏≠Èó¥Â¢ÉÁïåË¶ÅËÆæÁΩÆ"Áì∂È¢à"ÔºåÂæàÈöæË∑®Ë∂ä
- ÊúÄÂêé3‰∏™Â¢ÉÁïåÂøÖÈ°ªÊòØ"‰º†ËØ¥Á∫ß"ÔºåÊï¥‰∏™‰∏ñÁïåËÉΩËææÂà∞ÁöÑ‰∫∫Â±àÊåáÂèØÊï∞
- Â¶ÇÊûúÊòØÊú´Êó•Á±ªÔºö‰∏ç‰ªÖÊúâ‰∏™‰∫∫Á≠âÁ∫ßÔºåËøòË¶ÅÊúâ"ÂäøÂäõÁ≠âÁ∫ß"„ÄÅ"È¢ÜÂú∞Á≠âÁ∫ß"„ÄÅ"ÁßëÊäÄÁ≠âÁ∫ß"Á≠âÂ§öÁª¥ËøõÂ∫¶Êù°

**„ÄêÁ¨¨‰∫åÈÉ®ÂàÜÔºöÂú∞ÂõæÊé®Ëøõ„Äë**Ôºà${g}Â±ÇÈÄíËøõÔºâ
Ê†ºÂºèÔºöÂΩìÂâçÂú∞Âõæ ‚Üí ‰∏ã‰∏ÄÂú∞Âõæ ‚Üí Ë∑®ÂõæÊù°‰ª∂ÔºàÈúÄË¶Å‰ªÄ‰πàÁ≠âÁ∫ß/ËµÑÊ∫ê/‰∫ã‰ª∂Ôºâ
ÊØèÂº†Âú∞ÂõæÂøÖÈ°ªÂåÖÂê´Ôºö
- 1‰∏™Êú∫ÁºòÁÇπÔºà‰∏ªËßíËÉΩËé∑Âæó‰ªÄ‰πàÔºâ
- 1‰∏™ÂéãËø´ÁÇπÔºàË∞Å‰ºöÁúã‰∏çËµ∑‰∏ªËßíÔºâ
- 1‰∏™ÂêçÂú∫Èù¢È¢ÑËÆæÔºàÂ¶ÇÔºöÂÆóÈó®Â§ßÊØî/ÊãçÂçñ‰ºö/ÁßòÂ¢É‰∫âÂ§∫Ôºâ
- **È¢ÑËÆ°ÂÅúÁïôÁ´†Êï∞**Ôºö‰∏ªËßíÂ§ßÊ¶ÇÂú®ËøôÂº†Âú∞ÂõæÂæÖÂ§öÂ∞ëÁ´†Ôºü

Âú∞ÂõæËÆæËÆ°ÂéüÂàôÔºö
- ÊØèÂº†Êñ∞Âú∞ÂõæÁöÑ"È°∂Á∫ßÂº∫ËÄÖ"ÈÉΩÊØî‰∏ä‰∏ÄÂº†Âú∞ÂõæÂº∫‰∏Ä‰∏™Â§ßÂ¢ÉÁïå
- ‰∏ªËßíÊØèÊ¨°Êç¢ÂõæÔºåÈÉΩË¶Å‰ªé"Êñ∞Âú∞ÂõæÂ∫ïÂ±Ç"ÈáçÊñ∞ÂºÄÂßãÊâìËÑ∏

**„ÄêÁ¨¨‰∏âÈÉ®ÂàÜÔºöËØªËÄÖÊúüÂæÖÁöÑÂêçÂú∫Èù¢„Äë**ÔºàËá≥Â∞ë${m}‰∏™Ôºâ
ÂàóÂá∫ËØªËÄÖÊúÄÊÉ≥ÁúãÂà∞ÁöÑÁªèÂÖ∏Âú∫ÊôØÔºå‰æãÂ¶ÇÔºö
- ÂÆóÈó®Â§ßÊØîÔºö‰∏ªËßí‰∏ÄË∑ØÁ¢æÂéãÔºåÂ§©Êâç‰ª¨Á∫∑Á∫∑Â§±ÊÄÅ
- ÊãçÂçñ‰ºöÔºö‰∏ªËßíË¥¢Â§ßÊ∞îÁ≤óÔºåÊâìËÑ∏‰∏ñÂÆ∂Â∞ëÁà∑
- ÁßòÂ¢ÉÊé¢Èô©Ôºö‰∏ªËßíÊç°Âà∞Ëá≥ÂÆùÔºåÂà´‰∫∫Âπ≤Áû™Áúº
- ÁôªÈó®ÊåëÊàòÔºöÊòîÊó•Ë∏©‰∏ªËßíÁöÑ‰∫∫Ë∑™Ê±ÇÂéüË∞Ö
- Â§ßÂ©öÊä¢‰∫≤Ôºö‰∏ªËßíÂú®Â©öÁ§º‰∏äÂ∏¶Ëµ∞Êñ∞Â®ò

ËØ∑Ê†πÊçÆ„Äê${e.genre}„ÄëÁ±ªÂûãÂíå${o}Á´†ÁØáÂπÖÔºåËÆæËÆ°**‰∏ìÂ±û‰∫éËøôÊú¨‰π¶ÁöÑ${m}‰∏™ÂêçÂú∫Èù¢**ÔºåÂπ∂Ê†áÊ≥®Â§ßÊ¶ÇÂú®Á¨¨Âá†Á´†Ëß¶Âèë„ÄÇ
ÂêçÂú∫Èù¢Ë¶ÅÂùáÂåÄÂàÜÂ∏ÉÔºå‰∏çËÉΩÂâç100Á´†ÂÖ®Áî®ÂÆåÔºÅ

**„ÄêÁ¨¨ÂõõÈÉ®ÂàÜÔºöÂäøÂäõÁõòÈù¢„Äë**ÔºàËá≥Â∞ë6‰∏™ÂäøÂäõÔºåÂàÜÂ±ÇÁ∫ßÔºâ
ÂäøÂäõ‰πüË¶ÅÂàÜÂ±ÇÔºö
- Êùë/ÈïáÁ∫ßÂäøÂäõÔºàÂâç50Á´†ÁöÑÂØπÊâãÔºâ
- Âüé/ÈÉ°Á∫ßÂäøÂäõÔºà50-200Á´†ÁöÑÂØπÊâãÔºâ
- ÂõΩ/ÂüüÁ∫ßÂäøÂäõÔºà200-500Á´†ÁöÑÂØπÊâãÔºâ
- Ê¥≤/ÁïåÁ∫ßÂäøÂäõÔºà500Á´†‰ª•ÂêéÁöÑÂØπÊâãÔºâ
${o>500?"- ÂÆáÂÆô/Â§öÂÖÉÁ∫ßÂäøÂäõÔºàÂêéÊúüÁªàÊûÅBOSSÔºâ":""}

ÊØè‰∏™ÂäøÂäõÂÜôÊòéÔºö
- ÂäøÂäõÁ´ãÂú∫ÂíåÂà©ÁõäËØâÊ±Ç
- ‰∏é‰∏ªËßíÂΩìÂâçÂÖ≥Á≥ªÔºàÊïå/Âèã/ÂèØËΩ¨ÂåñÔºâ
- "ÊâìËÑ∏‰ª∑ÂÄº"ËØÑ‰º∞ÔºàË∏©Ëøá‰∏ªËßíÔºüÊ¨†ÊèçÁ®ãÂ∫¶ÔºüÔºâ
- **ÁôªÂú∫Á´†ËäÇÂå∫Èó¥**ÔºöËøô‰∏™ÂäøÂäõÂ§ßÊ¶ÇÂú®Á¨¨Âá†Á´†Âà∞Á¨¨Âá†Á´†ÊòØ‰∏ªË¶ÅÂØπÊâãÔºü

**„ÄêÁ¨¨‰∫îÈÉ®ÂàÜÔºöËµÑÊ∫ê‰ΩìÁ≥ª„Äë**ÔºàËá≥Â∞ë8È°πÔºåÂàÜÁ®ÄÊúâÂ∫¶Ôºâ
- ËµÑÊ∫êÂêçÁß∞
- Á®ÄÊúâÂ∫¶Á≠âÁ∫ßÔºàÁôΩ/Áªø/Ëìù/Á¥´/Èáë/Á∫¢Ôºâ
- Ëé∑ÂèñÊñπÂºè
- Âç≥Êó∂Êî∂Áõä + ÈïøÁ∫øÊî∂Áõä
- Ë∞ÅÂú®‰∫âÂ§∫ÔºàÂèØÂà∂ÈÄ†ÂÜ≤Á™ÅÔºâ
- **Ëß£ÈîÅÊù°‰ª∂**Ôºö‰∏ªËßíËææÂà∞‰ªÄ‰πàÁ≠âÁ∫ßÊâçËÉΩÊé•Ëß¶Âà∞ËøôÁßçËµÑÊ∫êÔºü

**„ÄêÁ¨¨ÂÖ≠ÈÉ®ÂàÜÔºöÂÅáÂ§©Ëä±ÊùøËÆæËÆ°„Äë**ÔºàËá≥Â∞ë${Math.ceil(o/200)}‰∏™Ôºâ
ËøôÊòØÈïøÁØáÂ∞èËØ¥ÁöÑÊ†∏ÂøÉÊäÄÂ∑ßÔºÅÊØèÈöî‰∏ÄÊÆµÂâßÊÉÖÔºåËØªËÄÖÂíå‰∏ªËßíÈÉΩ‰ª•‰∏∫"Âà∞È°∂‰∫Ü"ÔºåÁªìÊûúÂèëÁé∞‰∏äÈù¢ËøòÊúâÂ§©Ôºö
- Á¨¨‰∏Ä‰∏™ÂÅáÂ§©Ëä±ÊùøÔºöÂ§ßÊ¶ÇÂú®Á¨¨${Math.floor(o*.15)}Á´†Ôºå‰∏ªËßí‰ª•‰∏∫Ëá™Â∑±ÂæàÂº∫‰∫ÜÔºåÁªìÊûú...
- Á¨¨‰∫å‰∏™ÂÅáÂ§©Ëä±ÊùøÔºöÂ§ßÊ¶ÇÂú®Á¨¨${Math.floor(o*.35)}Á´†Ôºå‰∏ªËßíÊàê‰∏∫Êüê‰∏™ÂúàÂ≠êÁöÑÈ°∂Â∞ñÔºåÁªìÊûú...
${o>300?`- Á¨¨‰∏â‰∏™ÂÅáÂ§©Ëä±ÊùøÔºöÂ§ßÊ¶ÇÂú®Á¨¨${Math.floor(o*.55)}Á´†Ôºå‰∏ªËßí‰ª•‰∏∫Â§©‰∏ãÊó†ÊïåÔºåÁªìÊûú...`:""}
${o>500?`- Á¨¨Âõõ‰∏™ÂÅáÂ§©Ëä±ÊùøÔºöÂ§ßÊ¶ÇÂú®Á¨¨${Math.floor(o*.75)}Á´†ÔºåÂèëÁé∞Êõ¥Â§ßÁöÑ‰∏ñÁïå...`:""}

ÊØè‰∏™ÂÅáÂ§©Ëä±ÊùøÂøÖÈ°ªÂÜôÔºö
- ‰∏ªËßíÂΩìÊó∂ÁöÑÁ≠âÁ∫ßÂíåÂú∞‰Ωç
- ‰∏ªËßí‰ª•‰∏∫ÁöÑ"‰∏ñÁïåÈ°∂ÁÇπ"ÊòØ‰ªÄ‰πà
- ÁúüÊ≠£ÁöÑ"Êõ¥È´òÂ±ÇÊ¨°"ÊòØ‰ªÄ‰πà
- Áî®‰ªÄ‰πà‰∫ã‰ª∂ÊâìÁ†¥Ëøô‰∏™ËÆ§Áü•

---

Á°¨ÊÄßË¶ÅÊ±ÇÔºö
1. ÊØè‰∏™Ê®°ÂùóÈÉΩË¶ÅËÉΩÁõ¥Êé•Êé®Âä®ÂâßÊÉÖÂÜ≥Á≠ñÔºå‰∏çË¶ÅÁ∫ØÁôæÁßë„ÄÇ
2. "ÂÅáÂ§©Ëä±Êùø"ÊòØÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜÔºåÂøÖÈ°ªËÆ©ËØªËÄÖÊúâÊåÅÁª≠ËøΩ‰∏ãÂéªÁöÑÂä®Âäõ„ÄÇ
3. Á¶ÅÊ≠¢Á©∫Ê≥õ‰∏ñÁïåËßÇËØ¥Êòé„ÄÅÊó†ÂÖ≥ÂéÜÂè≤ËÄÉÊçÆ„ÄÇ
4. ÊâÄÊúâËÆæËÆ°ÂøÖÈ°ªËÉΩÊîØÊíë${o}Á´†ÁöÑÁØáÂπÖÔºåÁ¶ÅÊ≠¢100Á´†ÂÜÖÂ∞±ËÆæËÆ°ÂÆåÊØïÔºÅ

‰ªÖÁªôÂá∫ÊúÄÁªàÊñáÊú¨Ôºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ
`},hr=e=>`
Âü∫‰∫é‰ª•‰∏ãÂÖÉÁ¥†Ôºö
- Â∞èËØ¥Á±ªÂûãÔºö${e.genre||"ÁàΩÊñá"}
- ÂÜÖÂÆπÊåáÂØºÔºö${e.userGuidance||"Êó†"}
- Ê†∏ÂøÉÁßçÂ≠êÔºö${e.coreSeed}
- ËßíËâ≤‰ΩìÁ≥ªÔºö${e.characterDynamics}
- ‰∏ñÁïåËßÇÔºö${e.worldBuilding}

ËØ∑Ê†πÊçÆ„Äê${e.genre}„ÄëËÆæËÆ°‚ÄúÁï™ËåÑËøûËΩΩÊû∂ÊûÑ‚ÄùÔºå‰ª•‚ÄúÂç∑‚Äù‰∏∫Âçï‰ΩçËæìÂá∫ÔºàÊú¨‰π¶ÂÖ±${e.numberOfChapters||100}Á´†ÔºåÈ¢ÑËÆ°ÂàÜ${Math.ceil((e.numberOfChapters||100)/80)}Âç∑ÔºåÁ¶ÅÊ≠¢‰∏≠ÊúüÂ∞±Â§©‰∏ãÊó†ÊïåÔºâ„ÄÇ

ÂÖàÁªôÂá∫ÊÄªÁ∫≤ÔºåÂÜçÈÄêÂç∑Â±ïÂºÄ„ÄÇÊØèÂç∑ÈÉΩÂøÖÈ°ªÂåÖÂê´Ôºö
- Âç∑Âêç‰∏éÂç∑ÁõÆÊ†á
- Âç∑ÂÜÖ‰∏ªÂÜ≤Á™ÅÔºàË∞ÅÂéã‰∏ªËßíÔºâ
- Ê†∏ÂøÉÁàΩÁÇπÂÖëÁé∞ËäÇÁÇπÔºàÁ¨¨Âá†Á´†Ôºâ
- ÂÖ≥ÈîÆÊî∂ÁõäÔºàÊàòÂäõ/Âú∞‰Ωç/ËµÑÊ∫ê/ÂÖ≥Á≥ªÔºâ
- Âç∑Êú´Âº∫Èí©Â≠êÔºàÊñ∞Êïå/Êñ∞Âú∞Âõæ/Êñ∞ÁúüÁõ∏Ôºâ

Á°¨ÊÄßËäÇÂ•èËßÑÂàôÔºö
1. Ââç5Á´†Âõ∫ÂÆöËµ∑ÂäøÔºö
- Á¨¨1Á´†ÔºöÂèóÂéã+Âº∫Èí©Â≠ê
- Á¨¨2Á´†ÔºöÈáëÊâãÊåáÊòæÊïà
- Á¨¨3Á´†ÔºöÈ¶ñÊ¨°ÊâìËÑ∏ÂÖëÁé∞
- Á¨¨4-5Á´†ÔºöÊâ©Â§ßÂΩ±Âìç+Âüã‰∏ãÊõ¥È´òÈò∂Êïå‰∫∫
2. ÊØèÁ´†Ëá≥Â∞ëÊé®Ëøõ1‰∏™ÂèòÈáèÔºöÂÆûÂäõ„ÄÅÂÖ≥Á≥ª„ÄÅÂú∞‰Ωç„ÄÅ‰ø°ÊÅØÂõõÈÄâ‰∏ÄÊàñÂ§öÈÄâ„ÄÇ
3. ÊØè3Á´†‰∏Ä‰∏™Â∞èÈ´òÊΩÆÔºåÊØè8-12Á´†‰∏Ä‰∏™Â§ßÈ´òÊΩÆ„ÄÇ
4. ÊØèÂç∑ÁªìÂ∞æÂøÖÈ°ªËÆ©‰∏ªËßí‚ÄúÁä∂ÊÄÅË∑ÉËøÅ‚Äù‰∏ÄÊ¨°ÔºàË∫´‰ªΩ/ËµÑÊ∫ê/ÊàòÂäõÊòéÊòæ‰∏äÂçáÔºâ„ÄÇ
5. Á¶ÅÊ≠¢ËøûÁª≠‰∏§Á´†Á∫ØÈì∫Âû´ÔºõËã•Âá∫Áé∞ÂéãÊäëÔºåÂøÖÈ°ªÂú®1Á´†ÂÜÖÂõûÊî∂Âπ∂ÂèçÊâì„ÄÇ

Ë¶ÅÊ±ÇÔºö
‰ªÖÁªôÂá∫ÊúÄÁªàÊñáÊú¨Ôºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ
`,pr=e=>`
‰æùÊçÆÂΩìÂâçËßíËâ≤Âä®ÂäõÂ≠¶ËÆæÂÆöÔºö${e.characterDynamics}

ËØ∑ÁîüÊàê‚ÄúÁï™ËåÑËøûËΩΩËßíËâ≤Áä∂ÊÄÅÈù¢Êùø‚ÄùÔºåÁ™ÅÂá∫ÂèØÁî®‰∫é‰∏ã‰∏ÄÁ´†ÂÜ≤Á™ÅÁöÑÂä®ÊÄÅ‰ø°ÊÅØ„ÄÇ

ËæìÂá∫Ê†ºÂºèÔºàÊØè‰∏™‰∏ªË¶ÅËßíËâ≤ÈÉΩÊåâÊ≠§ÁªìÊûÑÔºâÔºö
ËßíËâ≤ÂêçÔºö
‚îú‚îÄ‚îÄÂΩìÂâçÊàòÂäõ/Âú∞‰Ωç
‚îÇ  ‚îú‚îÄ‚îÄÁ≠âÁ∫ß/ÊùÉÂäøÔºö
‚îÇ  ‚îî‚îÄ‚îÄÂÖ¨‰ºóËÆ§Áü•Ôºö
‚îú‚îÄ‚îÄËµÑ‰∫ß/ÈÅìÂÖ∑
‚îÇ  ‚îú‚îÄ‚îÄÊ†∏ÂøÉËµÑÊ∫êÔºö
‚îÇ  ‚îî‚îÄ‚îÄÂèØÊ∂àËÄóÂ∫ïÁâåÔºö
‚îú‚îÄ‚îÄÈáëÊâãÊåá/ËÉΩÂäõÁä∂ÊÄÅ
‚îÇ  ‚îú‚îÄ‚îÄÂ∑≤Ëß£ÈîÅÔºö
‚îÇ  ‚îú‚îÄ‚îÄÂÜ∑Âç¥/ÈôêÂà∂Ôºö
‚îÇ  ‚îî‚îÄ‚îÄ‰∏ãÊ¨°ÂçáÁ∫ßÊù°‰ª∂Ôºö
‚îú‚îÄ‚îÄÂÖ≥Á≥ª‰∏é‰ªáÊÅ®
‚îÇ  ‚îú‚îÄ‚îÄÂΩìÂâçÁõüÂèãÔºö
‚îÇ  ‚îú‚îÄ‚îÄÂΩìÂâçÊïåÂØπÔºö
‚îÇ  ‚îî‚îÄ‚îÄ‰ºòÂÖàÊâìËÑ∏ÁõÆÊ†áÔºö
‚îú‚îÄ‚îÄÂΩìÂâçÂ§ÑÂ¢É
‚îÇ  ‚îú‚îÄ‚îÄÊ≠£Âú®ÊâøÂèóÁöÑÂéãÂäõÔºö
‚îÇ  ‚îî‚îÄ‚îÄÂâ©‰ΩôÁ™óÂè£Êúü/ÂÄíËÆ°Êó∂Ôºö
‚îî‚îÄ‚îÄ‰∏ã‰∏ÄÁ´†ÂèØËß¶Âèë‰∫ã‰ª∂Ôºö

Ë¶ÅÊ±ÇÔºö
1. Âè™‰øùÁïôÂΩìÂâçÂâßÊÉÖ‰ªçÊ¥ªË∑ÉÁöÑËßíËâ≤Ôºà‰∏ÄËà¨‰∏çË∂ÖËøá8‰∏™Ôºâ„ÄÇ
2. ÊØè‰∏™ËßíËâ≤ÂøÖÈ°ªÊúâ‚ÄúÂèØË°åÂä®ÁöÑ‰∏ã‰∏ÄÊ≠•‚ÄùÔºå‰∏çËÉΩÂè™ÊúâÈùôÊÄÅÊèèËø∞„ÄÇ
3. ÂèòÂåñË¶ÅÂèØÈáèÂåñÊàñÂèØÊÑüÁü•ÔºàÊõ¥Âº∫/Êõ¥Á©∑/Êõ¥Âç±Èô©/Êõ¥ÊúâÂêçÔºâ„ÄÇ
‰ªÖËøîÂõûÁºñÂÜôÂ•ΩÁöÑËßíËâ≤Áä∂ÊÄÅÊñáÊú¨Ôºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ
`,te={coreSeed:ur,characterDynamics:cr,worldBuilding:gr,plotArchitecture:hr,characterState:pr},xr=e=>`
Âü∫‰∫é‰ª•‰∏ãÂÖÉÁ¥†Ôºö
- ÂÜÖÂÆπÊåáÂØºÔºö${e.userGuidance||"Êó†"}
- Â∞èËØ¥Êû∂ÊûÑÔºö
${e.novelArchitecture}

ËØ∑ËÆæËÆ°${e.numberOfChapters}Á´†ÁöÑÁï™ËåÑËøûËΩΩÂ§ßÁ∫≤Ôºå‰ºòÂÖà‰øùËØÅ‚ÄúÁÇπÂºÄÂ∞±ÂÅú‰∏ç‰∏ã‚Äù„ÄÇ

Á°¨ÊÄßËßÑÂàôÔºö
1. ÈªÑÈáë‰∏âÁ´†ÂøÖÈ°ª‰∏•Ê†ºÊâßË°åÔºö
- Á¨¨1Á´†Ôºö‰∏ªËßíÂèóÂéã + ÊòéÁ°ÆÊïå‰∫∫ + Âº∫Èí©Â≠ê„ÄÇ
- Á¨¨2Á´†ÔºöÈáëÊâãÊåáÊòæÊïàÊàñÂ∫ïÁâå‰∫ÆÁõ∏„ÄÇ
- Á¨¨3Á´†ÔºöÈ¶ñÊ¨°ÊâìËÑ∏ÂÖëÁé∞ÔºàÂøÖÈ°ªÊúâÂèØËßÅÁªìÊûúÔºâ„ÄÇ
2. ÊØèÁ´†ÂøÖÈ°ªÂåÖÂê´ÔºöÂÜ≤Á™Å‰∫ã‰ª∂ + ÁàΩÁÇπÂÖëÁé∞ + Êú¨Á´†Êî∂Áõä + Á´†Êú´Âç°ÁÇπ„ÄÇ
3. ÊØè3Á´†‰∏Ä‰∏™Â∞èÈ´òÊΩÆÔºåÊØè8-12Á´†‰∏Ä‰∏™Â§ßÈ´òÊΩÆ„ÄÇ
4. ‰∏çËÉΩËøûÁª≠‰∏§Á´†Á∫ØÈì∫Âû´ÔºõËã•ÂéãÊäëÔºå1Á´†ÂÜÖÂøÖÈ°ªÂèçÊâì„ÄÇ
5. ÊØèÁ´†Ëá≥Â∞ëÊé®Ëøõ‰∏Ä‰∏™ÂèòÈáèÔºöÊàòÂäõ„ÄÅÂú∞‰Ωç„ÄÅËµÑÊ∫ê„ÄÅÂÖ≥Á≥ª„ÄÅ‰ø°ÊÅØ„ÄÇ

ËæìÂá∫Ê†ºÂºèÔºàÊØèÁ´†ÈÉΩÊåâÊ≠§Ê†ºÂºèÔºå‰∏çÂèØÁúÅÁï•Â≠óÊÆµÔºâÔºö
Á¨¨nÁ´†ÔΩú[Âê∏ÁùõÊ†áÈ¢òÔºåÂª∫ËÆÆ12-18Â≠ó]
- ÂºÄÂú∫Èí©Â≠êÔºà1Âè•ÔºâÔºö
- Êú¨Á´†ÂÜ≤Á™ÅÔºàË∞ÅÂéãË∞ÅÔºâÔºö
- Êú¨Á´†ÁàΩÁÇπÂÖëÁé∞ÔºàÂÖ∑‰ΩìÂä®‰Ωú‰∏éÁªìÊûúÔºâÔºö
- Êú¨Á´†Êî∂ÁõäÔºàÊàòÂäõ/Âú∞‰Ωç/ËµÑÊ∫ê/ÂÖ≥Á≥ª/‰ø°ÊÅØÔºâÔºö
- Á´†Êú´Âç°ÁÇπÔºàÂøÖÈ°ªÈÄºËØªËÄÖÁÇπ‰∏ã‰∏ÄÁ´†ÔºâÔºö
- ÊÉÖÁª™Êõ≤Á∫øÔºàÂ¶ÇÔºöÊÜãÂ±à->ÂèçÂáª->Ë∂ÖÁàΩÔºâÔºö
- Âº†ÂäõÊòüÁ∫ßÔºö‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ Âà∞ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
- ‰∏ÄÂè•ËØùÂâßÊÉÖÔºö

Ë°•ÂÖÖË¶ÅÊ±ÇÔºö
- Ê†áÈ¢òÈÅøÂÖçÂπ≥Èì∫Áõ¥ÂèôÔºå‰ºòÂÖàÂèçÂ∑Æ„ÄÅÊÇ¨Âøµ„ÄÅÂÜ≤Á™ÅËØç„ÄÇ
- ‰∏çÂÜôÊÇ≤ÂâßÊî∂Â∞æÔºåÂéãÊäëÂè™ÊúçÂä°‰∏ã‰∏ÄÊ≥¢ÁàÜÂèë„ÄÇ
- ÊâÄÊúâÁ´†ËäÇÂøÖÈ°ªÁ¨¶Âêà„Äê${e.novelArchitecture?"Êó¢ÂÆöÊû∂ÊûÑ":"Â∞èËØ¥Á±ªÂûã"}„ÄëÈ£éÊ†º‰∏éÊÉÖÊÑüÂü∫Ë∞É„ÄÇ

‰ªÖÁªôÂá∫ÊúÄÁªàÊñáÊú¨Ôºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ
`,mr=e=>`
Âü∫‰∫é‰ª•‰∏ãÂÖÉÁ¥†Ôºö
- ÂÜÖÂÆπÊåáÂØºÔºö${e.userGuidance||"Êó†"}
- Â∞èËØ¥Êû∂ÊûÑÔºö
${e.novelArchitecture}

ÈúÄË¶ÅÁîüÊàêÊÄªÂÖ±${e.numberOfChapters}Á´†ÁöÑËäÇÂ•èÂàÜÂ∏ÉÔºå

ÂΩìÂâçÂ∑≤ÊúâÁ´†ËäÇÁõÆÂΩïÔºàËã•‰∏∫Á©∫ÂàôËØ¥ÊòéÊòØÂàùÂßãÁîüÊàêÔºâÔºö
${e.chapterList||"(Êó†)"}

Áé∞Âú®ËØ∑ËÆæËÆ°Á¨¨${e.startChapter}Á´†Âà∞Á¨¨${e.endChapter}Á´†ÁöÑËäÇÂ•èÂàÜÂ∏ÉÔºö

Á°¨ÊÄßËßÑÂàôÔºàÂª∂Áª≠Áï™ËåÑÈ£éÊ†ºÔºâÔºö
1. ÂøÖÈ°ªÂíå‚ÄúÂΩìÂâçÂ∑≤ÊúâÁ´†ËäÇÁõÆÂΩï‚ÄùÊó†ÁºùË°îÊé•Ôºå‰∏çËÉΩÊîπÂÜôÂ∑≤ÂèëÁîü‰∫ã‰ª∂„ÄÇ
2. ÊØèÁ´†ÈÉΩË¶ÅÊúâÂÆûË¥®ËøõÂ±ïÔºàËá≥Â∞ëÊé®Ëøõ1‰∏™ÂèòÈáèÔºöÊàòÂäõ/Âú∞‰Ωç/ËµÑÊ∫ê/ÂÖ≥Á≥ª/‰ø°ÊÅØÔºâ„ÄÇ
3. ÊØèÁ´†ÈÉΩË¶ÅÊúâ‚ÄúÁàΩÁÇπÂÖëÁé∞‚ÄùÂíå‚ÄúÁ´†Êú´Âç°ÁÇπ‚ÄùÔºåÁ¶ÅÊ≠¢Á∫ØËøáÊ∏°Á´†„ÄÇ
4. ÊØè3Á´†ÂÆâÊéí‰∏ÄÊ¨°Â∞èÈ´òÊΩÆÔºåÁ°Æ‰øùÂå∫Èó¥ÂÜÖÊúâ‰∏ÄÊ¨°ÊòéÁ°ÆÊâìËÑ∏ÊàñÈáçÂ§ßÊî∂Ëé∑„ÄÇ
5. Ëã•Âá∫Áé∞‰∏ªËßíÂèóÂéãÔºå‰∏ã‰∏ÄÁ´†ÂøÖÈ°ªÁªôÂà∞ÂèçÂáªÂõûÊî∂„ÄÇ

ËæìÂá∫Ê†ºÂºèÔºàÊØèÁ´†ÈÉΩÊåâÊ≠§Ê†ºÂºèÔºå‰∏çÂèØÁúÅÁï•Â≠óÊÆµÔºâÔºö
Á¨¨nÁ´†ÔΩú[Âê∏ÁùõÊ†áÈ¢ò]
- ÊâøÊé•ÁÇπÔºà‰∏éÂâçÁ´†Â¶Ç‰ΩïË°îÊé•ÔºâÔºö
- Êú¨Á´†ÂÜ≤Á™ÅÔºö
- Êú¨Á´†ÁàΩÁÇπÂÖëÁé∞Ôºö
- Êú¨Á´†Êî∂ÁõäÔºö
- Á´†Êú´Âç°ÁÇπÔºö
- ÊÉÖÁª™Êõ≤Á∫øÔºö
- Âº†ÂäõÊòüÁ∫ßÔºö‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ Âà∞ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ
- ‰∏ÄÂè•ËØùÂâßÊÉÖÔºö

Ë¶ÅÊ±ÇÔºö
- Áî®Áü≠Âè•„ÄÅÁ°¨‰ø°ÊÅØË°®ËææÔºåÈÅøÂÖçÁ©∫Ê≥õÊèèËø∞„ÄÇ
- Á¶ÅÊ≠¢Ëôê‰∏ªËøûÁª≠ÊãâÈïøÁ∫øÔºåÂéãÊäëÂøÖÈ°ªÂø´ÈÄüÂõûÊî∂„ÄÇ

‰ªÖÁªôÂá∫ÊúÄÁªàÊñáÊú¨Ôºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ
`,fr=e=>`
Âç≥Â∞ÜÂàõ‰ΩúÔºöÁ¨¨ ${e.chapterNumber} Á´†„Ää${e.chapterTitle}„Äã
Êú¨Á´†ÂÆö‰ΩçÔºö${e.chapterRole}
Ê†∏ÂøÉÂçñÁÇπÔºö${e.chapterPurpose} (Ê≥®ÊÑèÔºöËøôÊòØÊú¨Á´†ÊúÄËÉΩÁïô‰ΩèËØªËÄÖÁöÑÁÇπ)
ÊÉÖÁª™Ë∞ÉÂä®Ôºö${e.suspenseLevel}
Êñ≠Á´†Èí©Â≠êÔºö${e.foreshadowing}
Êú¨Á´†ÁÆÄËø∞Ôºö${e.chapterSummary}

ÂèÇËÄÉÊñáÊ°£Ôºö
- Â∞èËØ¥ËÆæÂÆöÔºö
${e.novelSetting}

‰Ω†ÊòØÁï™ËåÑÊó•Êõ¥‰ΩúËÄÖÔºåËØ∑Áõ¥Êé•ÂÜô‚ÄúÂèØÂèëÂ∏ÉÊ≠£Êñá‚ÄùÔºåÁõÆÊ†áÊòØËÆ©ËØªËÄÖÂø´ÈÄüËøΩÊõ¥„ÄÇ

ÂÜô‰ΩúÁ°¨ÊåáÊ†áÔºàÂøÖÈ°ªÊâßË°åÔºâÔºö
1. Ââç120Â≠óÂøÖÈ°ªÂá∫Áé∞Ôºö‰∏ªËßí + ÂÜ≤Á™ÅÂØπË±° + ÂÖ∑‰ΩìÂä®‰ΩúÔºåÁ¶ÅÊ≠¢ËÉåÊôØÈì∫Âû´ÂºÄÂú∫„ÄÇ
2. ÊØè400-600Â≠óÂøÖÈ°ªÂá∫Áé∞‰∏ÄÊ¨°‚ÄúÂÜ≤Á™ÅÂçáÁ∫ßÊàñÁàΩÁÇπÂÖëÁé∞‚Äù„ÄÇ
3. ÂØπËØùÂç†ÊØîÂª∫ËÆÆ30%-60%ÔºåÊÆµËêΩÁü≠ÔºåÂä®ËØçÂØÜÂ∫¶È´òÔºåÂáèÂ∞ëÂ§ßÊÆµÂøÉÁêÜÁã¨ÁôΩ„ÄÇ
4. Êú¨Á´†ÂøÖÈ°ªÂÖëÁé∞‚Äú${e.chapterPurpose}‚ÄùÔºå‰∏çËÉΩÂè™Èì∫Âû´‰∏çÂõûÊî∂„ÄÇ
5. Ëá≥Â∞ëÂá∫Áé∞‰∏ÄÊ¨°Âõ¥ËßÇËÄÖ/ÂØπÊâãÂèçÂ∫îÔºåÊîæÂ§ß‰∏ªËßíÂê´ÈáëÈáè„ÄÇ
6. ÁªìÂ∞æÊúÄÂêé‰∏§ÊÆµÂøÖÈ°ªÂΩ¢ÊàêÊñ≠Á´†Âç°ÁÇπÔºàÂç±Êú∫Êú™Ëß£/Êñ∞ÊïåÁôªÂú∫/Êõ¥Â§ßÊú∫Áºò‰∏âÈÄâ‰∏ÄÔºâ„ÄÇ
7. Á¶ÅÊ≠¢ËøûÁª≠ÂõûÂøÜÊùÄ„ÄÅÁ©∫Ê¥ûÂì≤ÊÄù„ÄÅË∂ÖËøá120Â≠óÁ∫ØÊôØÁâ©ÊèèÂÜô„ÄÇ
8. ‚ö†Ô∏è Â≠óÊï∞ÂøÖÈ°ªÂú® ${e.wordNumber} Â≠óÂ∑¶Âè≥ÔºàËØØÂ∑Æ‰∏çË∂ÖËøá10%ÔºâÔºÅÂ¶ÇÊûúÁõÆÊ†áÊòØ3000Â≠óÔºåÂ∞±ÂÜô2700-3300Â≠ó‰πãÈó¥ÔºÅ

È£éÊ†ºË¶ÅÊ±ÇÔºàÁï™ËåÑÂêëÔºâÔºö
- Âè•Â≠êÂÅèÁü≠Ôºå‰ø°ÊÅØÂØÜÂ∫¶È´òÔºåÊÉÖÁª™ËØçÊòéÁ°Æ„ÄÇ
- ÂÜ≤Á™ÅÂÖàË°åÔºåËß£ÈáäÂêéÁΩÆÔºåÈÅøÂÖçÊÖ¢ÁÉ≠„ÄÇ
- ÂéãÊäëÂè™‰Ωú‰∏∫ÂèçÊâìÂâçÁΩÆÔºå‰∏çËÉΩÊãñÊ≤ì„ÄÇ

Ê†ºÂºèË¶ÅÊ±ÇÔºö
- ‰ªÖËøîÂõûÁ´†ËäÇÊ≠£ÊñáÊñáÊú¨Ôºõ
- ‰∏ç‰ΩøÁî®ÂàÜÁ´†ËäÇÂ∞èÊ†áÈ¢òÔºõ
- ‰∏çË¶Å‰ΩøÁî®markdownÊ†ºÂºè„ÄÇ

È¢ùÂ§ñÊåáÂØºÔºö${e.userGuidance||"(Êó†)"}
`,br=e=>`
ÂèÇËÄÉÊñáÊ°£Ôºö
‚îî‚îÄ‚îÄ ÂâçÊñáÊëòË¶ÅÔºö
    ${e.globalSummary}

‚îî‚îÄ‚îÄ ÂâçÁ´†ÁªìÂ∞æÊÆµÔºàÊ≥®ÊÑèÊé•‰∏äËøô‰∏™Èí©Â≠êÔºâÔºö
    ${e.previousChapterExcerpt}

‚îî‚îÄ‚îÄ ËßíËâ≤Áä∂ÊÄÅÔºàÊ≥®ÊÑè‰∏ªËßíÁé∞Âú®ÁöÑÂº∫Âº±ÔºâÔºö
    ${e.characterState}

ÂΩìÂâçÁ´†ËäÇ‰ø°ÊÅØÔºö
Á¨¨${e.chapterNumber}Á´†„Ää${e.chapterTitle}„ÄãÔºö
‚îú‚îÄ‚îÄ Ê†∏ÂøÉÂçñÁÇπÔºö${e.chapterPurpose} (Êú¨Á´†ÁàΩÁÇπ)
‚îú‚îÄ‚îÄ ÊÉÖÁª™Ë∞ÉÂä®Ôºö${e.suspenseLevel}
‚îú‚îÄ‚îÄ Êñ≠Á´†Èí©Â≠êÔºö${e.foreshadowing}
‚îú‚îÄ‚îÄ Á´†ËäÇÁÆÄËø∞Ôºö${e.chapterSummary}
‚îî‚îÄ‚îÄ Â≠óÊï∞Ë¶ÅÊ±ÇÔºö${e.wordNumber}Â≠ó

‰∏ã‰∏ÄÁ´†ËäÇÈ¢ÑÂëäÔºà‰ªÖ‰æõÂèÇËÄÉË°îÊé•ÊñπÂêëÔºåÁªùÂØπ‰∏çË¶ÅÂÜô‰∏ã‰∏ÄÁ´†ÂÜÖÂÆπÔºÅÔºâÔºö
Á¨¨${e.nextChapterNumber}Á´†„Ää${e.nextChapterTitle}„ÄãÔºö
‚îî‚îÄ‚îÄ „ÄêÂÜÖÂÆπ‰øùÂØÜ„ÄëÊú¨Á´†ÂÜôÂà∞Êñ≠Á´†Èí©Â≠êÂ∞±ÂÅúÔºÅ‰∏ã‰∏ÄÁ´†ÁöÑ‰ªª‰ΩïÂÜÖÂÆπÈÉΩ‰∏çËÉΩÂú®Êú¨Á´†Âá∫Áé∞ÔºÅ

‰Ω†ÊòØÁï™ËåÑÊó•Êõ¥‰ΩúËÄÖÔºåËØ∑Âàõ‰ΩúÁ¨¨ ${e.chapterNumber} Á´†ÂèØÂèëÂ∏ÉÊ≠£Êñá„ÄÇ

‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
‚ñà  ‰∏• Èáç Ë≠¶ Âëä  ‚ñà
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
üö´ Â≠óÊï∞‰∏äÈôêÔºö${Math.round(e.wordNumber*1.1)}Â≠óÔºåË∂ÖËøáÂç≥Â§±Ë¥•ÔºÅ
üö´ Á¶ÅÊ≠¢Ë∂äÁïåÔºöÁªùÂØπ‰∏çËÉΩÂÜôÁ¨¨${e.nextChapterNumber}Á´†ÁöÑÂÜÖÂÆπÔºÅ
üö´ ÂÆÅÂèØÂ∞ëÂÜô500Â≠óÔºå‰πüÁªùÂØπ‰∏çËÉΩË∂äÁïåÔºÅ
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà

ÂÜô‰ΩúÁ°¨ÊåáÊ†áÔºàÂøÖÈ°ªÊâßË°åÔºâÔºö
1. Á¨¨‰∏ÄÊÆµÂøÖÈ°ªÁõ¥Êé•ÊâøÊé•‰∏ä‰∏ÄÁ´†Èí©Â≠ê‰∏≠ÁöÑÂä®‰Ωú/‰∫ã‰ª∂Ôºå‰∏çÂæóÈáçÂºÄÊñ∞Âú∫ÊôØ„ÄÇ
2. ÊØè400-600Â≠óËá≥Â∞ë‰∏ÄÊ¨°ÂÜ≤Á™ÅÂçáÁ∫ßÊàñÁàΩÁÇπÂÖëÁé∞„ÄÇ
3. Êú¨Á´†ÂøÖÈ°ªÂÖëÁé∞‚Äú${e.chapterPurpose}‚ÄùÔºåÂπ∂‰∏é‰∏ã‰∏ÄÁ´†ÂçñÁÇπÂΩ¢ÊàêËøûÈîÅÊúüÂæÖ„ÄÇ
4. Ëá≥Â∞ëÂÜô‰∏ÄÊ¨°Âõ¥ËßÇÂèçÂ∫îÊàñÂØπÊâãÂ§±ÊÄÅÔºåÂº∫Âåñ‰∏ªËßíÂéãÂà∂Âäõ„ÄÇ
5. ‰∏•Ê†ºÈÅµÂÆàËßíËâ≤Áä∂ÊÄÅ‰∏ÄËá¥ÊÄßÔºà‰º§Âäø„ÄÅÈÅìÂÖ∑„ÄÅÊàòÂäõ„ÄÅÂÖ≥Á≥ª‰∏çÂæóÊó†ÊïÖË∑≥ÂèòÔºâ„ÄÇ
6. Ëã•Âá∫Áé∞Êñ∞ËÉΩÂäõ/Êñ∞ÈÅìÂÖ∑ÔºåÂøÖÈ°ªÁªôÂá∫Êù•Ê∫êÊàñËß¶ÂèëÂä®‰Ωú„ÄÇ
7. ÁªìÂ∞æÂøÖÈ°ªÁïôÊñ≠Á´†Èí©Â≠êÔºå‰∏î‰∏é‚Äú${e.nextChapterTitle}‚ÄùËá™ÁÑ∂Ë°îÊé•„ÄÇ
8. ‚ö†Ô∏è Â≠óÊï∞ÂøÖÈ°ªÂú® ${e.wordNumber} Â≠óÂ∑¶Âè≥ÔºàËØØÂ∑Æ‰∏çË∂ÖËøá10%ÔºâÔºÅÂ¶ÇÊûúÁõÆÊ†áÊòØ3000Â≠óÔºåÂ∞±ÂÜô2700-3300Â≠ó‰πãÈó¥ÔºÅ

È£éÊ†ºË¶ÅÊ±ÇÔºàÁï™ËåÑÂêëÔºâÔºö
- Áü≠Âè•Êé®ËøõÔºåÂÜ≤Á™Å‰ºòÂÖàÔºåÂØπËØùÈ©±Âä®„ÄÇ
- Â∞ëËß£ÈáäÔºåÂ§öÁªìÊûúÔºõÂ∞ëÈì∫ÈôàÔºåÂ§öÂèçÂ∫î„ÄÇ
- Á¶ÅÊ≠¢Â§ßÊÆµÂõûÂøÜ„ÄÅÁ©∫Ê≥õÊäíÊÉÖ„ÄÅËÑ±Á¶ª‰∏ªÁ∫øÁöÑÈó≤Á¨î„ÄÇ

Ê†ºÂºèË¶ÅÊ±ÇÔºö
- ‰ªÖËøîÂõûÁ´†ËäÇÊ≠£ÊñáÊñáÊú¨Ôºõ
- ‰∏ç‰ΩøÁî®ÂàÜÁ´†ËäÇÂ∞èÊ†áÈ¢òÔºõ
- ‰∏çË¶Å‰ΩøÁî®markdownÊ†ºÂºè„ÄÇ

È¢ùÂ§ñÊåáÂØºÔºö${e.userGuidance||"(Êó†)"}
`,vr=e=>`
‰ª•‰∏ãÁΩëÊñáÁ´†ËäÇÂ≠óÊï∞‰∏çË∂≥ÔºåËØ∑ËøõË°å**"Â¢ûÁàΩÊâ©ÂÜô"**Ôºà‰∏çÊòØÁÅåÊ∞¥ÔºÅÔºâÔºö

ÁõÆÊ†áÂ≠óÊï∞ÔºöÊé•Ëøë ${e.wordNumber} Â≠ó„ÄÇ

---

**„ÄêÊâ©ÂÜôÊ†∏ÂøÉÂéüÂàô„Äë**
Êâ©ÂÜôÁöÑÁõÆÁöÑÊòØ"ËÆ©ÁàΩÁÇπÊõ¥ÁàΩ"Ôºå‰∏çÊòØ"ËÆ©Â≠óÊï∞Êõ¥Â§ö"„ÄÇ

**„ÄêÂÖ∑‰ΩìÊâ©ÂÜôÊäÄÂ∑ß„Äë**ÔºàÂøÖÈ°ª‰ΩøÁî®Ëá≥Â∞ë3Êù°Ôºâ

1. **ÊîæÂ§ßÂõ¥ËßÇÂèçÂ∫î**
   - Âä†ÂÖ•ÊóÅËßÇËÄÖÁöÑÊÉäÂëº„ÄÅËÆÆËÆ∫„ÄÅË°®ÊÉÖÂèòÂåñ
   - ‰æãÔºö„ÄåÂë®Âõ¥‰ºó‰∫∫ÂÄíÂê∏‰∏ÄÂè£ÂáâÊ∞îÔºåÊúâ‰∫∫ÁîöËá≥‰∏çÂèØÁΩÆ‰ø°Âú∞Êèâ‰∫ÜÊèâÁúºÁùõ„ÄÇ„Äç
   - ‰æãÔºö„Äå"Ëøô...ËøôÊÄé‰πàÂèØËÉΩÔºÅ"‰∫∫Áæ§‰∏≠ÁàÜÂèëÂá∫‰∏ÄÈòµÊÉäÂèπ„ÄÇ„Äç

2. **Âª∂ÈïøÂØπÊâãÂ§±ÊÄÅ**
   - ÊèèÂÜôÂØπÊâãÁöÑË°®ÊÉÖÂèòÂåñÔºö‰∏çÂ±ë ‚Üí ÈúáÊÉä ‚Üí ÊÅêÊÉß ‚Üí ÁªùÊúõ
   - Âä†ÂÖ•ÂØπÊâãÁöÑÂÜÖÂøÉÂ¥©Ê∫ÉÁã¨ÁôΩ
   - ‰æãÔºö„Äå‰ªñÁöÑÁû≥Â≠îÈ™§ÁÑ∂Êî∂Áº©ÔºåÂò¥ËßíÁöÑÂÜ∑Á¨ëÂÉµÂú®ËÑ∏‰∏äÔºåÂèòÊàê‰∫Ü‰∏ÄÁßçÈöæ‰ª•ÁΩÆ‰ø°ÁöÑÊÉäÊÅê„ÄÇ„Äç

3. **Ë°•ÂÖÖÂä®‰ΩúÁªÜËäÇ**
   - Êää"‰∏ÄÊãõÂà∂Êïå"ÊãÜÊàê2-3‰∏™ÂàÜËß£Âä®‰Ωú
   - Âä†ÂÖ•ÊÑüÂÆòÊèèÂÜôÔºöÂ£∞Èü≥„ÄÅÂÖâÂΩ±„ÄÅÊ∞îÂäø
   - ‰æãÔºö„ÄåÂâëÂÖâ‰∏ÄÈó™ÔºåÂø´Âà∞ËÇâÁúºÂá†‰πéÊçïÊçâ‰∏çÂà∞„ÄÇÂè™Âê¨"Èìõ"ÁöÑ‰∏ÄÂ£∞ËÑÜÂìçÔºåÂØπÊñπÁöÑÂÖµÂô®Â∑≤ÁªèËÑ±ÊâãÈ£ûÂá∫„ÄÇ„Äç

4. **Âº∫ÂåñÊî∂ÁõäËêΩÂú∞**
   - ÊòéÁ°Æ‰∏ªËßíËé∑Âæó‰∫Ü‰ªÄ‰πàÔºàÊàòÂà©ÂìÅ/Â£∞Êúõ/ÂÖ≥Á≥ªÔºâ
   - Áî®ÂÖ∑‰ΩìÊï∞Â≠óÊàñÂØπÊØîÊù•ÈáèÂåñÊî∂Áõä
   - ‰æãÔºö„ÄåËøô‰∏ÄÊàòÂêéÔºå‰ªñÂú®ÂÆóÈó®ÁöÑÊéíÂêçÁõ¥Êé•‰ªéÊú´‰ΩçË∑ÉÂçáËá≥ÂâçÂçÅ„ÄÇ„Äç

5. **Âä†Âº∫È¢ÑÊúüÈì∫Âû´**
   - Âú®ÁàΩÁÇπ‰πãÂâçÔºåÂä†‰∏ÄÊÆµ"ÊâÄÊúâ‰∫∫ÈÉΩ‰∏çÁúãÂ•Ω"ÁöÑÈì∫Âû´
   - Áî®"Ë∞ÅÈÉΩÊ≤°ÊÉ≥Âà∞..."Êù•Âà∂ÈÄ†ÂèçÂ∑Æ
   - ‰æãÔºö„ÄåÊ≤°Êúâ‰∫∫ËßâÂæó‰ªñËÉΩËµ¢„ÄÇÊØïÁ´üÔºåÂØπÈù¢ÂèØÊòØÂÆóÈó®Á¨¨‰∏ÄÂ§©Êâç„ÄÇ„Äç

6. **Âª∂ÈïøÈ´òÂÖâÊó∂Âàª**
   - Áî®ÊÖ¢ÈïúÂ§¥ÂÜôÊ≥ïÔºåÊääÈ´òÊΩÆÁû¨Èó¥ÊãâÈïø
   - Âä†ÂÖ•‰∏ªËßíÁöÑÈú∏Ê∞îÂè∞ËØçÊàñÂÜ∑Á¨ë
   - ‰æãÔºö„Äå‰ªñÁºìÁºìÊî∂Ëµ∑Êâã‰∏≠ÁöÑÂâëÔºåÂò¥ËßíÂãæËµ∑‰∏ÄÊäπÊ∑°Á¨ëÔºö"ËøòÊúâË∞ÅÔºü"„Äç

---

**„ÄêÁ°¨ÊÄßËßÑÂàô„Äë**
1. ‰∏çÊîπÂèòÂéüÊúâ‰∫ã‰ª∂È°∫Â∫è„ÄÅËßíËâ≤ÁªìËÆ∫„ÄÅÁ´†ËäÇÁªìÂ∞æÈí©Â≠ê„ÄÇ
2. Êñ∞Â¢ûÂÜÖÂÆπÂøÖÈ°ªÊòØ"ÊúâÊïàÂÜÖÂÆπ"ÔºöÂÜ≤Á™ÅÊãâÊâØ„ÄÅÊâìËÑ∏ÁªÜËäÇ„ÄÅÂõ¥ËßÇÂèçÂ∫î„ÄÅÊî∂ÁõäËêΩÂú∞„ÄÇ
3. Á¶ÅÊ≠¢Âêå‰πâÈáçÂ§ç„ÄÅÊÆµËêΩÊ≥®Ê∞¥„ÄÅÊó†ÊÑè‰πâÊóÅÁôΩ„ÄÅÁ©∫Ê≥õÂøÉÁêÜÊ¥ªÂä®„ÄÇ
4. Êâ©ÂÜôÂêéÁöÑÈòÖËØª‰ΩìÈ™åÂøÖÈ°ªÊØîÂéüÊñáÊõ¥ÁàΩ„ÄÇ

---

ÂéüÂÜÖÂÆπÔºö
${e.chapterText}

---

Ë¶ÅÊ±ÇÔºö
- ‰ªÖÁªôÂá∫ÊúÄÁªàÊñáÊú¨Ôºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπÔºõ
- ËØ≠Ë®ÄÈ£éÊ†º‰øùÊåÅÁï™ËåÑÂø´ËäÇÂ•è„ÄÅÂº∫ÂÜ≤Á™Å„ÄÅÂº∫ÂèçÈ¶à„ÄÇ
`,kr={blueprint:xr,blueprintChunked:mr,firstDraft:fr,nextDraft:br,enrich:vr},wr=e=>`
‰ª•‰∏ãÊòØÊñ∞ÂÆåÊàêÁöÑÁ´†ËäÇÊñáÊú¨Ôºö
${e.chapterText}

ËøôÊòØÂΩìÂâçÁöÑÂâçÊñáÊëòË¶ÅÔºàÂèØ‰∏∫Á©∫ÔºâÔºö
${e.globalSummary||"(Êó†)"}

ËØ∑Ê†πÊçÆÊú¨Á´†Êñ∞Â¢ûÂÜÖÂÆπÔºåÊõ¥Êñ∞ÂâçÊñáÊëòË¶ÅÔºàÁï™ËåÑËøûËΩΩËßÜËßíÔºâ„ÄÇ

Êõ¥Êñ∞Êó∂‰ºòÂÖàËÆ∞ÂΩï‰ª•‰∏ã‰ø°ÊÅØÔºö
1. ‰∏ªÁ∫øÂÜ≤Á™ÅÊé®ËøõÔºöË∞ÅÂéã‰∏ªËßí„ÄÅ‰∏ªËßíÂ¶Ç‰ΩïÂèçÂà∂„ÄÇ
2. ÁàΩÁÇπÂÖëÁé∞ÁªìÊûúÔºöÊú¨Á´†ÊâìËÑ∏/Êî∂Ëé∑ÊòØÂê¶ËêΩÂú∞„ÄÇ
3. Áä∂ÊÄÅÂèòÂåñÔºöÊàòÂäõ„ÄÅÂú∞‰Ωç„ÄÅËµÑÊ∫ê„ÄÅÂÖ≥Á≥ª„ÄÅ‰ø°ÊÅØÁöÑÊñ∞Â¢ûÂèòÂåñ„ÄÇ
4. Á´†Êú´Èí©Â≠êÔºöÊú¨Á´†ÁªìÂ∞æÊÇ¨ÂøµÂíå‰∏ã‰∏ÄÊ≠•Âç±Êú∫„ÄÇ

Ë¶ÅÊ±ÇÔºö
- ‰øùÁïôÊó¢ÊúâÈáçË¶Å‰ø°ÊÅØÔºåÂêåÊó∂ËûçÂÖ•Êñ∞ÂâßÊÉÖË¶ÅÁÇπ
- ‰ª•ÁÆÄÊ¥Å„ÄÅËøûË¥ØÁöÑËØ≠Ë®ÄÊèèËø∞ÂÖ®‰π¶ËøõÂ±ï
- ÂÆ¢ËßÇÊèèÁªòÔºå‰∏çÂ±ïÂºÄËÅîÊÉ≥ÊàñËß£Èáä
- ÊÄªÂ≠óÊï∞ÊéßÂà∂Âú®2000Â≠ó‰ª•ÂÜÖ
- ÈÅøÂÖçÁ©∫Ê≥õ‰øÆËæûÔºå‰ºòÂÖàÂèØÁî®‰∫é‰∏ã‰∏ÄÁ´†Âàõ‰ΩúÁöÑÁ°¨‰ø°ÊÅØ

‰ªÖËøîÂõûÂâçÊñáÊëòË¶ÅÊñáÊú¨Ôºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ
`,yr=e=>`
‰ª•‰∏ãÊòØÊñ∞ÂÆåÊàêÁöÑÁ´†ËäÇÊñáÊú¨Ôºö
${e.chapterText}

ËøôÊòØÂΩìÂâçÁöÑËßíËâ≤Áä∂ÊÄÅÊñáÊ°£Ôºö
${e.oldState}

ËØ∑Êõ¥Êñ∞‰∏ªË¶ÅËßíËâ≤Áä∂ÊÄÅÔºå‰øùÊåÅÂéüÊúâÊ†ºÂºèÁªìÊûÑ„ÄÇ

Ë¶ÅÊ±ÇÔºö
- ËØ∑Áõ¥Êé•Âú®Â∑≤ÊúâÊñáÊ°£Âü∫Á°Ä‰∏äËøõË°åÂ¢ûÂà†
- ‰∏çÊîπÂèòÂéüÊúâÁªìÊûÑÔºåËØ≠Ë®ÄÂ∞ΩÈáèÁÆÄÊ¥Å„ÄÅÊúâÊù°ÁêÜ
- Êñ∞Âá∫Âú∫ËßíËâ≤ÁÆÄË¶ÅÊèèËø∞Âç≥ÂèØÔºåÊ∑°Âá∫ËßÜÁ∫øÁöÑËßíËâ≤ÂèØÂà†Èô§
- ÈáçÁÇπÊõ¥Êñ∞ÂèØÂΩ±Âìç‰∏ãÁ´†ÁöÑÂä®ÊÄÅÈ°πÔºöÊàòÂäõ„ÄÅ‰º§Âäø„ÄÅËµÑÊ∫ê„ÄÅ‰ªáÊÅ®„ÄÅÂÄíËÆ°Êó∂
- Êñ∞Â¢ûËÉΩÂäõÊàñÈÅìÂÖ∑ÂøÖÈ°ªÊ†áÊ≥®Êù•Ê∫êÔºõÂ∑≤Ê∂àËÄóËµÑÊ∫êË¶ÅÂèäÊó∂Êâ£Èô§
- ÈÅøÂÖçÂÜôÊàê‰∫∫Áâ©Â∞è‰º†ÔºåÂè™‰øùÁïô‚ÄúÂèØÊâßË°åÁä∂ÊÄÅ‚Äù

‰ªÖËøîÂõûÊõ¥Êñ∞ÂêéÁöÑËßíËâ≤Áä∂ÊÄÅÊñáÊú¨Ôºå‰∏çË¶ÅËß£Èáä‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ
`,$r=e=>`
‰Ω†ÊòØ‰∏Ä‰Ωç‰∏•Ê†ºÁöÑÁΩëÊñáÁºñËæëÔºåË¥üË¥£Ë¥®Ê£ÄÂàöÂÜôÂÆåÁöÑÁ´†ËäÇ„ÄÇ

ÂΩìÂâçÁ´†ËäÇ‰ø°ÊÅØÔºö
- Á´†ËäÇÁºñÂè∑ÔºöÁ¨¨${e.chapterNumber}Á´†
- Á´†ËäÇÊ†áÈ¢òÔºö${e.chapterTitle}
- Á´†ËäÇÂ§ßÁ∫≤Ôºö${e.chapterSummary}
- ÁõÆÊ†áÂ≠óÊï∞Ôºö${e.wordNumber}Â≠ó
- ÂÆûÈôÖÂ≠óÊï∞Ôºö${e.actualWordCount}Â≠óÔºàÂ∑≤Áî±Á≥ªÁªüÁªüËÆ°ÔºåÊó†ÈúÄ‰Ω†ÂÜçÊï∞Ôºâ

‰∏ã‰∏ÄÁ´†ËäÇ‰ø°ÊÅØÔºàÁî®‰∫éÂà§Êñ≠ÊòØÂê¶Ë∂äÁïåÔºâÔºö
- ‰∏ã‰∏ÄÁ´†ÁºñÂè∑ÔºöÁ¨¨${e.nextChapterNumber}Á´†
- ‰∏ã‰∏ÄÁ´†Ê†áÈ¢òÔºö${e.nextChapterTitle}
- ‰∏ã‰∏ÄÁ´†Â§ßÁ∫≤Ôºö${e.nextChapterSummary||"(Êó†)"}

Á´†ËäÇÊ≠£ÊñáÔºö
${e.chapterText}

ËØ∑‰ªé‰ª•‰∏ãÁª¥Â∫¶ËøõË°åÊ£ÄÊü•ÔºåÂπ∂ÁªôÂá∫JSONÊ†ºÂºèÁöÑÊ£ÄÊü•Êä•ÂëäÔºö

{
  "wordCount": ${e.actualWordCount},
  "wordCountPass": ${e.actualWordCount>=e.wordNumber*.85&&e.actualWordCount<=e.wordNumber*1.15},
  "contentMatch": ÂÜÖÂÆπÊòØÂê¶Á¨¶ÂêàÂΩìÂâçÁ´†ËäÇÂ§ßÁ∫≤Ôºàtrue/falseÔºâ,
  "nextChapterSpill": ÊòØÂê¶ÂåÖÂê´‰∏ã‰∏ÄÁ´†ÁöÑÂÜÖÂÆπÔºàtrue/falseÔºåÂ¶ÇÊûúÂåÖÂê´Âàô‰∏∫trueË°®Á§∫ÊúâÈóÆÈ¢òÔºâ,
  "hasCliffhanger": ÁªìÂ∞æÊòØÂê¶ÊúâÊñ≠Á´†Èí©Â≠ê/ÊÇ¨ÂøµÔºàtrue/falseÔºâ,
  "overallPass": ÊòØÂê¶ÈÄöËøáË¥®Ê£ÄÔºàÊâÄÊúâÈ°πÁõÆÈÉΩOKÂàôtrueÔºâ,
  "issues": ["ÈóÆÈ¢ò1", "ÈóÆÈ¢ò2"] // Â¶ÇÊûúÊúâÈóÆÈ¢òÔºåÂàóÂá∫ÂÖ∑‰ΩìÈóÆÈ¢ò
}

Âà§Êñ≠Ê†áÂáÜÔºö
1. Â≠óÊï∞ÔºöÂÆûÈôÖ${e.actualWordCount}Â≠óÔºåÁõÆÊ†á${e.wordNumber}Â≠óÔºå${e.actualWordCount>=e.wordNumber*.85&&e.actualWordCount<=e.wordNumber*1.15?"Âú®85%-115%ËåÉÂõ¥ÂÜÖÔºåÈÄöËøá":"Ë∂ÖÂá∫85%-115%ËåÉÂõ¥Ôºå‰∏çÈÄöËøá"}
2. ÂÜÖÂÆπÂåπÈÖçÔºöÁ´†ËäÇÂÜÖÂÆπÂ∫îËØ•Âõ¥ÁªïÂΩìÂâçÁ´†ËäÇÂ§ßÁ∫≤Â±ïÂºÄÔºå‰∏çÂÅèÈ¢ò
3. Ë∂äÁïåÊ£ÄÊµãÔºöÂ¶ÇÊûúÁ´†ËäÇÂÜÖÂÆπÂ∑≤ÁªèÂÜôÂà∞‰∫Ü‰∏ã‰∏ÄÁ´†Â§ßÁ∫≤ÁöÑÊ†∏ÂøÉ‰∫ã‰ª∂ÔºåÂàôÂà§ÂÆö‰∏∫Ë∂äÁïå
4. Êñ≠Á´†Èí©Â≠êÔºöÁªìÂ∞æÂ∫îËØ•ÊúâÊÇ¨Âøµ„ÄÅÂç±Êú∫ÊàñÊúüÂæÖÔºåËÆ©ËØªËÄÖÊÉ≥Áúã‰∏ã‰∏ÄÁ´†

‰ªÖËøîÂõûJSONÔºå‰∏çË¶ÅÊúâ‰ªª‰ΩïÂÖ∂‰ªñÊñáÂ≠ó„ÄÇ
`,_r=e=>`
‰Ω†ÊòØ‰∏Ä‰Ωç‰∏ì‰∏öÁöÑÁΩëÊñáÁºñËæëÔºåÈúÄË¶ÅÊ†πÊçÆË¥®Ê£ÄÂèëÁé∞ÁöÑÈóÆÈ¢ò‰øÆÂ§ç‰ª•‰∏ãÁ´†ËäÇ„ÄÇ

ÂΩìÂâçÁ´†ËäÇ‰ø°ÊÅØÔºö
- Á´†ËäÇÁºñÂè∑ÔºöÁ¨¨${e.chapterNumber}Á´†
- Á´†ËäÇÊ†áÈ¢òÔºö${e.chapterTitle}
- Á´†ËäÇÂ§ßÁ∫≤Ôºö${e.chapterSummary}
- ÁõÆÊ†áÂ≠óÊï∞Ôºö${e.wordNumber}Â≠ó

‰∏ã‰∏ÄÁ´†ËäÇ‰ø°ÊÅØÔºà‰∏çË¶ÅÂÜôËøõÂΩìÂâçÁ´†ËäÇÔºÅÔºâÔºö
- ‰∏ã‰∏ÄÁ´†ÁºñÂè∑ÔºöÁ¨¨${e.nextChapterNumber}Á´†
- ‰∏ã‰∏ÄÁ´†Ê†áÈ¢òÔºö${e.nextChapterTitle}

Ë¥®Ê£ÄÂèëÁé∞ÁöÑÈóÆÈ¢òÔºö
${e.issues.map((o,s)=>`${s+1}. ${o}`).join(`
`)}

ÂéüÁ´†ËäÇÂÜÖÂÆπÔºö
${e.chapterText}

---

ËØ∑Ê†πÊçÆ‰ª•‰∏äÈóÆÈ¢òËøõË°å‰øÆÂ§çÔºåË¶ÅÊ±ÇÔºö

${e.wordCountPass===!1?`„ÄêÂ≠óÊï∞ÈóÆÈ¢ò„Äë
- ÂΩìÂâçÂ≠óÊï∞Ôºö${e.wordCount}Â≠óÔºåÁõÆÊ†áÔºö${e.wordNumber}Â≠ó
- Â¶ÇÊûúÂ≠óÊï∞‰∏çË∂≥ÔºåËØ∑Êâ©ÂÜôÔºöÂ¢ûÂä†Âõ¥ËßÇÂèçÂ∫î„ÄÅÂØπÊâãÂ§±ÊÄÅ„ÄÅÊàòÊñóÁªÜËäÇ„ÄÅÊî∂ÁõäËêΩÂú∞ÊèèÂÜô
- Â¶ÇÊûúÂ≠óÊï∞ËøáÂ§öÔºåËØ∑Á≤æÁÆÄÔºöÂà†Èô§ÈáçÂ§çÂÜÖÂÆπ„ÄÅÂÜó‰ΩôÊèèÂÜô„ÄÅÊó†ÊïàÂØπËØù
`:""}

${e.nextChapterSpill===!0?`„ÄêË∂äÁïåÈóÆÈ¢ò„Äë
- ÂΩìÂâçÁ´†ËäÇÂåÖÂê´‰∫Ü‰∏ã‰∏ÄÁ´†ÁöÑÂÜÖÂÆπÔºåËØ∑Âà†Èô§ËøôÈÉ®ÂàÜ
- Âú®Âà†Èô§ÂêéÁöÑ‰ΩçÁΩÆÊ∑ªÂä†ÂêàÈÄÇÁöÑÊñ≠Á´†Èí©Â≠êÔºåËÆ©ËØªËÄÖÊúüÂæÖ‰∏ã‰∏ÄÁ´†
- ‰∏çË¶ÅÂÜô"Á¨¨${e.nextChapterNumber}Á´†"Êàñ"${e.nextChapterTitle}"ÁöÑ‰ªª‰ΩïÂÜÖÂÆπ
`:""}

${e.hasCliffhanger===!1?`„ÄêÊñ≠Á´†Èí©Â≠êÈóÆÈ¢ò„Äë
- ÁªìÂ∞æÁº∫Â∞ëÊÇ¨Âøµ/Èí©Â≠êÔºåËØ∑‰øÆÊîπÁªìÂ∞æ
- Ê∑ªÂä†ÔºöÂç±Êú∫Êú™Ëß£/Êñ∞ÊïåÁôªÂú∫/Êõ¥Â§ßÊú∫Áºò/ÂÖ≥ÈîÆËΩ¨Êäò ‰πã‰∏Ä
- ËÆ©ËØªËÄÖ‰∫ßÁîü"ÊÉ≥Áúã‰∏ã‰∏ÄÁ´†"ÁöÑÂº∫ÁÉàÊ¨≤Êúõ
`:""}

${e.contentMatch===!1?`„ÄêÂÜÖÂÆπÂåπÈÖçÈóÆÈ¢ò„Äë
- Á´†ËäÇÂÜÖÂÆπ‰∏éÂ§ßÁ∫≤‰∏çÁ¨¶ÔºåËØ∑Ë∞ÉÊï¥ÂÜÖÂÆπ‰ΩøÂÖ∂Á¨¶ÂêàÊú¨Á´†Â§ßÁ∫≤
- Á°Æ‰øùÊú¨Á´†Ê†∏ÂøÉ‰∫ã‰ª∂‰∏éÂ§ßÁ∫≤ÊèèËø∞‰∏ÄËá¥
`:""}

‰øÆÂ§çÂéüÂàôÔºö
1. Â∞ΩÈáè‰øùÁïôÂéüÊñáÁ≤æÂçéÔºåÂè™‰øÆÊîπÊúâÈóÆÈ¢òÁöÑÈÉ®ÂàÜ
2. ‰øùÊåÅÊñáÈ£éÁªü‰∏ÄÔºå‰∏çË¶ÅÁ™ÅÂÖÄ
3. Á°Æ‰øù‰øÆÂ§çÂêéÂ≠óÊï∞Âú®ÁõÆÊ†áËåÉÂõ¥ÂÜÖÔºà¬±15%Ôºâ
4. ÁªùÂØπ‰∏çËÉΩÂÜô‰∏ã‰∏ÄÁ´†ÁöÑÂÜÖÂÆπ

‰ªÖËøîÂõû‰øÆÂ§çÂêéÁöÑÁ´†ËäÇÊ≠£ÊñáÔºå‰∏çË¶ÅÊúâ‰ªª‰ΩïËß£Èáä„ÄÇ
`,Cr={summary:wr,updateCharacterState:yr,qualityCheck:$r,fixChapter:_r},{coreSeed:Ps,characterDynamics:Bs,worldBuilding:zs,plotArchitecture:Ls,characterState:As}=te,{blueprint:jr,blueprintChunked:Sr,firstDraft:Gr,nextDraft:Mr,enrich:Or}=kr,{summary:Nr,updateCharacterState:Tr,qualityCheck:Pr,fixChapter:Br}=Cr;function pe(e){return Array.isArray(e)?e.join(" / "):e||""}async function zr(e,o,s,g){const m={...e};if(!m.coreSeed){s("Ê≠£Âú®ÁîüÊàêÊ†∏ÂøÉÁßçÂ≠ê...",1,5);const p=te.coreSeed(e);m.coreSeed=K(await F(o,p,g?(u,$)=>g("coreSeed",$):null))}if(!m.characterDynamics){s("Ê≠£Âú®ÁîüÊàêËßíËâ≤‰ΩìÁ≥ª...",2,5);const p=te.characterDynamics({...e,...m});m.characterDynamics=K(await F(o,p,g?(u,$)=>g("characterDynamics",$):null))}if(!m.characterState&&m.characterDynamics){s("Ê≠£Âú®ÁîüÊàêÂàùÂßãËßíËâ≤Áä∂ÊÄÅ...",3,5);const p=te.characterState({...e,...m});m.characterState=K(await F(o,p,g?(u,$)=>g("characterState",$):null))}if(!m.worldBuilding){s("Ê≠£Âú®ÁîüÊàê‰∏ñÁïåËßÇ...",4,5);const p=te.worldBuilding({...e,...m});m.worldBuilding=K(await F(o,p,g?(u,$)=>g("worldBuilding",$):null))}if(!m.plotArchitecture){s("Ê≠£Âú®ËÆæËÆ°ÊÉÖËäÇÊû∂ÊûÑ...",5,5);const p=te.plotArchitecture({...e,...m});m.plotArchitecture=K(await F(o,p,g?(u,$)=>g("plotArchitecture",$):null))}return s("Êû∂ÊûÑÁîüÊàêÂÆåÊàê!",5,5),m}async function Lr(e,o,s,g){const{numberOfChapters:m,userGuidance:p}=e,u=`
#=== 0) Â∞èËØ¥ËÆæÂÆö ===
‰∏ªÈ¢òÔºö${e.topic}ÔºåÁ±ªÂûãÔºö${pe(e.genre)}ÔºåÁØáÂπÖÔºöÁ∫¶${m}Á´†ÔºàÊØèÁ´†${e.wordNumber}Â≠óÔºâ

#=== 1) Ê†∏ÂøÉÁßçÂ≠ê ===
${e.coreSeed}

#=== 2) ËßíËâ≤Âä®ÂäõÂ≠¶ ===
${e.characterDynamics}

#=== 3) ‰∏ñÁïåËßÇ ===
${e.worldBuilding}

#=== 4) ‰∏âÂπïÂºèÊÉÖËäÇÊû∂ÊûÑ ===
${e.plotArchitecture}
`,$=350,h=o.maxTokens||8192;let v=Math.floor(h*.7/$);v=Math.max(5,Math.min(v,25,m));let f=e.chapterBlueprint||"";const i=f.match(/Á¨¨\s*(\d+)\s*Á´†/g)||[];let k=(i.length>0?Math.max(...i.map(x=>parseInt(x.match(/\d+/)[0]))):0)+1;if(v>=m&&!f){s(`Ê≠£Âú®ÁîüÊàêÁ´†ËäÇÂ§ßÁ∫≤ (1-${m})...`,0,1);const x=jr({userGuidance:p,novelArchitecture:u,numberOfChapters:m});f=K(await F(o,x,g?(j,H)=>g(H):null))}else for(;k<=m;){const x=Math.min(k+v-1,m);s(`Ê≠£Âú®ÁîüÊàêÁ´†ËäÇÂ§ßÁ∫≤ (${k}-${x})...`,k-1,m);const j=Ar(f,100),H=Sr({userGuidance:p,novelArchitecture:u,numberOfChapters:m,chapterList:j,startChapter:k,endChapter:x}),L=K(await F(o,H,g?(Q,U)=>g(U):null));L&&(f=f?`${f}

${L}`:L),k=x+1,k<=m&&await new Promise(Q=>setTimeout(Q,1500))}return s("Á´†ËäÇÂ§ßÁ∫≤ÁîüÊàêÂÆåÊàê!",m,m),f}function Ar(e,o){if(!e)return"";const s=/(Á¨¨\s*\d+\s*Á´†.*?)(?=Á¨¨\s*\d+\s*Á´†|$)/gs,g=e.match(s)||[];return g.length<=o?e:g.slice(-o).join(`

`).trim()}function se(e){if(!e)return[];const o=[],s=/Á¨¨\s*(\d+)\s*Á´†\s*[ÔΩú\|Ôºç\-‚Äì‚Äî]\s*\[?(.+?)\]?(?=\n|$)/g;let g;for(;(g=s.exec(e))!==null;){const m=parseInt(g[1]),p=g[2].trim().replace(/^\[|\]$/g,""),u=g.index,$=new RegExp(`Á¨¨\\s*${m+1}\\s*Á´†`),h=e.substring(u+g[0].length).match($),v=h?u+g[0].length+h.index:e.length,f=e.substring(u,v);o.push({number:m,title:p,position:D(f,"ÊâøÊé•ÁÇπ")||D(f,"Êú¨Á´†ÂÆö‰Ωç")||D(f,"ÂºÄÂú∫Èí©Â≠ê"),purpose:D(f,"Êú¨Á´†ÁàΩÁÇπÂÖëÁé∞")||D(f,"Ê†∏ÂøÉ‰ΩúÁî®")||D(f,"Êú¨Á´†ÂÜ≤Á™Å"),suspense:D(f,"ÊÉÖÁª™Êõ≤Á∫ø")||D(f,"ÊÇ¨ÂøµÂØÜÂ∫¶"),foreshadowing:D(f,"Á´†Êú´Âç°ÁÇπ")||D(f,"‰ºèÁ¨îÊìç‰Ωú"),twistLevel:D(f,"Âº†ÂäõÊòüÁ∫ß")||D(f,"ËÆ§Áü•È¢†Ë¶Ü"),summary:D(f,"‰∏ÄÂè•ËØùÂâßÊÉÖ")||D(f,"Êú¨Á´†ÁÆÄËø∞"),conflict:D(f,"Êú¨Á´†ÂÜ≤Á™Å"),reward:D(f,"Êú¨Á´†Êî∂Áõä")})}return o}function D(e,o){const s=new RegExp(`${o}[Ôºö:]\\s*(.+?)(?=\\n|$)`),g=e.match(s);return g?g[1].trim():""}async function Rr(e,o,s,g,m){var i;const p=se(e.chapterBlueprint),u=p.find(b=>b.number===o);if(!u)throw new Error(`Á´†ËäÇ ${o} ‰∏çÂ≠òÂú®‰∫éÂ§ßÁ∫≤‰∏≠`);const $=p.find(b=>b.number===o+1)||{title:"(Êú™ÂÆö)",position:"ËøáÊ∏°Á´†ËäÇ",purpose:"Êâø‰∏äÂêØ‰∏ã",suspense:"‰∏≠Á≠â",foreshadowing:"Êó†ÁâπÊÆä‰ºèÁ¨î",twistLevel:"‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ",summary:"Ë°îÊé•ËøáÊ∏°ÂÜÖÂÆπ"},h=`
Â∞èËØ¥Á±ªÂûãÔºö${pe(e.genre)}

Ê†∏ÂøÉÁßçÂ≠êÔºö${e.coreSeed}

ËßíËâ≤‰ΩìÁ≥ªÔºö${e.characterDynamics}

‰∏ñÁïåËßÇÔºö${e.worldBuilding}

ÊÉÖËäÇÊû∂ÊûÑÔºö${e.plotArchitecture}
`;let v;if(o===1)g(`Ê≠£Âú®ÁîüÊàêÁ¨¨ ${o} Á´†ËçâÁ®ø...`,0,3),v=Gr({chapterNumber:o,chapterTitle:u.title,chapterRole:u.position,chapterPurpose:u.purpose,suspenseLevel:u.suspense,foreshadowing:u.foreshadowing,plotTwistLevel:u.twistLevel,chapterSummary:u.summary,novelSetting:h,wordNumber:e.wordNumber,userGuidance:e.userGuidance});else{g(`Ê≠£Âú®ÁîüÊàêÁ¨¨ ${o} Á´†ËçâÁ®ø...`,0,3);const k=(((i=e.chapters)==null?void 0:i[o-1])||"").slice(-800)||"(Êó†ÂâçÁ´†ÂÜÖÂÆπ)";v=Mr({chapterNumber:o,chapterTitle:u.title,chapterRole:u.position,chapterPurpose:u.purpose,suspenseLevel:u.suspense,foreshadowing:u.foreshadowing,plotTwistLevel:u.twistLevel,chapterSummary:u.summary,wordNumber:e.wordNumber,globalSummary:e.globalSummary||"(ËøôÊòØÁ¨¨‰∏ÄÁ´†ÔºåÊöÇÊó†ÂâçÊñáÊëòË¶Å)",previousChapterExcerpt:k,characterState:e.characterState||"(ÊöÇÊó†ËßíËâ≤Áä∂ÊÄÅ)",userGuidance:e.userGuidance,shortSummary:"",nextChapterNumber:o+1,nextChapterTitle:$.title,nextChapterRole:$.position,nextChapterPurpose:$.purpose,nextSuspenseLevel:$.suspense,nextForeshadowing:$.foreshadowing,nextPlotTwistLevel:$.twistLevel,nextChapterSummary:$.summary})}const f=K(await F(s,v,m?(b,k)=>m(k):null));return g(`Á¨¨ ${o} Á´†ËçâÁ®øÁîüÊàêÂÆåÊàê`,1,3),f}async function Dr(e,o,s,g,m,p){m("Ê≠£Âú®Êõ¥Êñ∞ÂâçÊñáÊëòË¶Å...",1,3);const u=K(await F(g,Nr({chapterText:s,globalSummary:e.globalSummary||""}),null));await new Promise(h=>setTimeout(h,500)),m("Ê≠£Âú®Êõ¥Êñ∞ËßíËâ≤Áä∂ÊÄÅ...",2,3);const $=K(await F(g,Tr({chapterText:s,oldState:e.characterState||""}),null));return m("Á´†ËäÇÂÆöÁ®øÂÆåÊàê",3,3),{globalSummary:u||e.globalSummary,characterState:$||e.characterState}}async function Xr(e,o,s,g,m){g("Ê≠£Âú®Êâ©ÂÜôÁ´†ËäÇ...",0,1);const p=K(await F(s,Or({chapterText:e,wordNumber:o}),null));return g("Êâ©ÂÜôÂÆåÊàê",1,1),p||e}function Ur(e){const o=[];o.push(`„Ää${e.title}„Äã`),o.push(""),o.push(`Á±ªÂûãÔºö${pe(e.genre)}`),o.push(`‰∏ªÈ¢òÔºö${e.topic}`),o.push(""),o.push("=".repeat(50)),o.push("");const s=e.chapters||{},g=Object.keys(s).map(Number).sort((p,u)=>p-u),m=se(e.chapterBlueprint);for(const p of g){const u=m.find(h=>h.number===p),$=(u==null?void 0:u.title)||`Á¨¨${p}Á´†`;o.push(`Á¨¨${p}Á´† ${$}`),o.push(""),o.push(s[p]),o.push(""),o.push("-".repeat(30)),o.push("")}return o.join(`
`)}function Wr(e){const o=[];o.push(`# ${e.title}`),o.push(""),o.push(`> **Á±ªÂûã**Ôºö${pe(e.genre)}`),o.push(`> **‰∏ªÈ¢ò**Ôºö${e.topic}`),o.push(""),o.push("---"),o.push("");const s=e.chapters||{},g=Object.keys(s).map(Number).sort((p,u)=>p-u),m=se(e.chapterBlueprint);for(const p of g){const u=m.find(h=>h.number===p),$=(u==null?void 0:u.title)||`Á¨¨${p}Á´†`;o.push(`## Á¨¨${p}Á´† ${$}`),o.push(""),o.push(s[p]),o.push("")}return o.join(`
`)}async function Ge(e,o){const{chapterText:s,chapterNumber:g,chapterTitle:m,chapterSummary:p,wordNumber:u,actualWordCount:$,nextChapterNumber:h,nextChapterTitle:v,nextChapterSummary:f}=e;console.log("üìã Ë¥®Ê£Ä‰ΩøÁî®ÁöÑÊ®°Âûã:",o.model),console.log("üìä ÂÆûÈôÖÂ≠óÊï∞:",$,"ÁõÆÊ†áÂ≠óÊï∞:",u);try{const i=Pr({chapterText:s,chapterNumber:g,chapterTitle:m,chapterSummary:p,wordNumber:u,actualWordCount:$||s.length,nextChapterNumber:h||g+1,nextChapterTitle:v||"(Êó†)",nextChapterSummary:f||"(Êó†)"}),b=await F(o,i,null);try{const k=b.match(/\{[\s\S]*\}/);if(k)return JSON.parse(k[0])}catch(k){console.warn("Ë¥®Ê£ÄÁªìÊûúËß£ÊûêÂ§±Ë¥•:",k)}return{wordCount:s.length,wordCountPass:!0,contentMatch:!0,nextChapterSpill:!1,hasCliffhanger:!0,overallPass:!0,issues:[]}}catch(i){return console.error("Ë¥®Ê£ÄËØ∑Ê±ÇÂ§±Ë¥•:",i),{wordCount:s.length,wordCountPass:!0,contentMatch:!0,nextChapterSpill:!1,hasCliffhanger:!0,overallPass:!0,issues:["Ë¥®Ê£ÄËØ∑Ê±ÇÂ§±Ë¥•ÔºåÂ∑≤Ë∑≥Ëøá"]}}}async function Er(e,o,s,g){const{chapterText:m,chapterNumber:p,chapterTitle:u,chapterSummary:$,wordNumber:h,nextChapterNumber:v,nextChapterTitle:f,qualityResult:i}=e;s("Ê≠£Âú®Ê†πÊçÆË¥®Ê£ÄÁªìÊûú‰øÆÂ§çÁ´†ËäÇ...",0,1);try{const b=Br({chapterText:m,chapterNumber:p,chapterTitle:u,chapterSummary:$,wordNumber:h,nextChapterNumber:v||p+1,nextChapterTitle:f||"(Êó†)",wordCount:i.wordCount,wordCountPass:i.wordCountPass,contentMatch:i.contentMatch,nextChapterSpill:i.nextChapterSpill,hasCliffhanger:i.hasCliffhanger,issues:i.issues||[]}),k=K(await F(o,b,g?(x,j)=>g(j):null));return s("‰øÆÂ§çÂÆåÊàê",1,1),k||m}catch(b){return console.error("‰øÆÂ§çÂ§±Ë¥•:",b),s("‰øÆÂ§çÂ§±Ë¥•",1,1),m}}const Vr={class:"space-y-4"},Fr={key:0,class:"bg-white dark:bg-[#1f1f23] rounded-2xl p-6 md:p-12 border border-gray-200/80 dark:border-gray-700/50 text-center"},qr={class:"w-24 h-24 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-xl shadow-indigo-500/25"},Kr={class:"mobile-toolbar-sticky mobile-surface-glass md:bg-white md:dark:bg-[#1f1f23] rounded-2xl p-3 md:p-4 border border-gray-100 dark:border-gray-800 shadow-sm flex items-center justify-between gap-3"},Hr={class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300"},Qr={class:"text-xs font-medium"},Ir={class:"flex items-center gap-2.5 md:gap-3 py-1"},Jr={class:"flex-1"},Yr={class:"text-sm md:text-base font-semibold text-gray-800 dark:text-white"},Zr={class:"text-xs text-gray-400 ml-2 hidden sm:inline"},en={class:"pt-3 pb-1"},Me={__name:"ArchitecturePanel",props:{project:Object,isGenerating:Boolean},emits:["generate","regenerate"],setup(e,{emit:o}){const s=e,g=o,m=ge(),p=E(["coreSeed","characterDynamics","worldBuilding","plotArchitecture"]),u=[{key:"coreSeed",title:"Ê†∏ÂøÉÁßçÂ≠ê",icon:zt,description:"ÊïÖ‰∫ãÁöÑÊú¨Ë¥®ÂíåÊ†∏ÂøÉÂÜ≤Á™Å",color:"from-rose-500 to-orange-500"},{key:"characterDynamics",title:"ËßíËâ≤‰ΩìÁ≥ª",icon:He,description:"Ê†∏ÂøÉËßíËâ≤ÁöÑÂä®ÂäõÂ≠¶ËÆæËÆ°",color:"from-blue-500 to-cyan-500"},{key:"worldBuilding",title:"‰∏ñÁïåËßÇ",icon:yt,description:"‰∏âÁª¥‰∫§ÁªáÁöÑ‰∏ñÁïåËßÇÊûÑÂª∫",color:"from-emerald-500 to-teal-500"},{key:"plotArchitecture",title:"ÊÉÖËäÇÊû∂ÊûÑ",icon:Qe,description:"‰∏âÂπïÂºèÊÇ¨ÂøµÁªìÊûÑ",color:"from-violet-500 to-purple-500"},{key:"characterState",title:"ËßíËâ≤Áä∂ÊÄÅ",icon:J,description:"ËßíËâ≤ÂàùÂßãÁä∂ÊÄÅË°®",color:"from-amber-500 to-yellow-500"}],$=R(()=>{var f,i,b,k;return((f=s.project)==null?void 0:f.coreSeed)||((i=s.project)==null?void 0:i.characterDynamics)||((b=s.project)==null?void 0:b.worldBuilding)||((k=s.project)==null?void 0:k.plotArchitecture)}),h=R(()=>u.filter(f=>{var i;return!!((i=s.project)!=null&&i[f.key])}).length);function v(f,i){m.updateProject(s.project.id,{[f]:i})}return(f,i)=>(c(),w("div",Vr,[$.value?(c(),w(ne,{key:1},[t("div",Kr,[t("div",Hr,[i[5]||(i[5]=t("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-500"},null,-1)),t("span",Qr,"Â∑≤ÁîüÊàê "+y(h.value)+"/"+y(u.length)+" Ê®°Âùó",1)]),n(r(V),{disabled:e.isGenerating,loading:e.isGenerating,onClick:i[1]||(i[1]=b=>g("regenerate")),secondary:"",class:"regen-button !bg-gray-100 dark:!bg-gray-800"},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(fe))]),_:1})]),default:d(()=>[i[6]||(i[6]=_(" ÈáçÊñ∞ÁîüÊàê ",-1))]),_:1},8,["disabled","loading"])]),n(r(Xe),{"expanded-names":p.value,"onUpdate:expandedNames":i[2]||(i[2]=b=>p.value=b),class:"architecture-collapse"},{default:d(()=>[(c(),w(ne,null,he(u,b=>n(r(Re),{key:b.key,name:b.key},{header:d(()=>[t("div",Ir,[t("div",{class:q(["w-8 h-8 md:w-9 md:h-9 rounded-xl bg-gradient-to-br flex items-center justify-center shadow-lg",b.color])},[(c(),B(De(b.icon),{class:"w-5 h-5 text-white"}))],2),t("div",Jr,[t("span",Yr,y(b.title),1),t("span",Zr,y(b.description),1)]),e.project[b.key]?(c(),B(r(z),{key:0,type:"success",size:"small",bordered:!1,round:""},{default:d(()=>[...i[7]||(i[7]=[_(" Â∑≤ÁîüÊàê ",-1)])]),_:1})):N("",!0)])]),default:d(()=>[t("div",en,[n(r(oe),{type:"textarea",value:e.project[b.key],"onUpdate:value":k=>v(b.key,k),autosize:{minRows:6,maxRows:20},placeholder:e.project[b.key]?"":"ÊöÇÊó†ÂÜÖÂÆπÔºåÁÇπÂáªÁîüÊàêÊåâÈíÆÂºÄÂßã",class:"novel-textarea"},null,8,["value","onUpdate:value","placeholder"])])]),_:2},1032,["name"])),64))]),_:1},8,["expanded-names"])],64)):(c(),w("div",Fr,[t("div",qr,[n(r(ve),{class:"w-12 h-12 text-white"})]),i[3]||(i[3]=t("h3",{class:"text-2xl font-bold text-gray-800 dark:text-white mb-3"}," ÂºÄÂßãÁîüÊàêÂ∞èËØ¥Êû∂ÊûÑ ",-1)),i[4]||(i[4]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed"}," AI Â∞ÜÂü∫‰∫éÈõ™Ëä±ÂÜô‰ΩúÊ≥ïÔºå‰∏∫‰Ω†ÁîüÊàêÊ†∏ÂøÉÁßçÂ≠ê„ÄÅËßíËâ≤‰ΩìÁ≥ª„ÄÅ‰∏ñÁïåËßÇÂíåÊÉÖËäÇÊû∂ÊûÑ ",-1)),n(r(V),{type:"primary",size:"large",loading:e.isGenerating,onClick:i[0]||(i[0]=b=>g("generate")),class:"!px-8 !h-12"},Te({default:d(()=>[_(" "+y(e.isGenerating?"ÁîüÊàê‰∏≠...":"ÂºÄÂßãÁîüÊàêÊû∂ÊûÑ"),1)]),_:2},[e.isGenerating?void 0:{name:"icon",fn:d(()=>[n(r(P),null,{default:d(()=>[n(r(Ae))]),_:1})]),key:"0"}]),1032,["loading"])]))]))}},tn={class:"space-y-4"},rn={key:0,class:"bg-white dark:bg-[#1f1f23] rounded-2xl p-6 md:p-12 border border-gray-200/80 dark:border-gray-700/50 text-center"},nn={class:"w-24 h-24 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-xl shadow-amber-500/25"},on={key:1,class:"bg-white dark:bg-[#1f1f23] rounded-2xl p-6 md:p-12 border border-gray-200/80 dark:border-gray-700/50 text-center"},sn={class:"w-24 h-24 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center shadow-xl shadow-purple-500/25"},an={class:"text-gray-500 dark:text-gray-400 mb-8 max-w-md mx-auto leading-relaxed"},ln={class:"mobile-toolbar-sticky mobile-surface-glass md:bg-white md:dark:bg-[#1f1f23] rounded-2xl p-3 md:p-4 border border-gray-100 dark:border-gray-800 shadow-sm"},dn={class:"md:hidden space-y-3"},un={class:"flex items-center justify-between gap-2"},cn={class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300"},gn={class:"text-xs font-medium"},hn={class:"grid grid-cols-2 gap-2 p-1 rounded-2xl bg-gray-100/90 dark:bg-gray-800/80 border border-gray-200/80 dark:border-gray-700/60"},pn={class:"hidden md:flex items-center justify-between gap-4 flex-wrap"},xn={class:"flex items-center gap-3"},mn={class:"flex items-center gap-1"},fn={class:"flex items-center gap-1"},bn={class:"flex items-center gap-2 w-full md:w-auto"},vn={class:"relative flex-1 md:w-64"},kn={key:0,class:"space-y-4"},wn={class:"flex items-start gap-4"},yn={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg shadow-indigo-500/20 group-hover:scale-105 transition-transform duration-300"},$n={class:"text-white font-bold text-sm"},_n={class:"flex-1 min-w-0"},Cn={class:"text-base md:text-lg font-bold text-gray-800 dark:text-white mb-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"},jn={class:"mr-2"},Sn={class:"flex flex-wrap gap-1.5 md:gap-2 mb-3"},Gn={class:"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-2.5 md:p-3 mb-3"},Mn={key:0,class:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed"},On={class:"flex flex-wrap items-start gap-2 md:gap-4 text-xs text-gray-400 dark:text-gray-500"},Nn={key:0,class:"flex items-center gap-1 max-w-full break-words"},Tn={key:1,class:"flex items-center gap-1 max-w-full break-words"},Pn={class:"text-amber-400"},Bn={key:0,class:"text-center py-16 bg-white dark:bg-[#1f1f23] rounded-2xl border border-gray-100 dark:border-gray-800 border-dashed"},zn={key:1},Oe={__name:"ChapterBlueprintPanel",props:{project:Object,chapters:Array,isGenerating:Boolean,architectureGenerated:Boolean},emits:["generate","regenerate"],setup(e,{emit:o}){const s=e,g=o,m=ge(),p=E("list"),u=E(""),$=R(()=>{if(!u.value)return s.chapters;const k=u.value.toLowerCase();return s.chapters.filter(x=>x.title.toLowerCase().includes(k)||x.summary.toLowerCase().includes(k))}),h=R(()=>{var x;const k=((x=s.project)==null?void 0:x.numberOfChapters)||100;return k>500?80:k>200?50:30});R(()=>{var k;return Math.ceil((((k=s.project)==null?void 0:k.numberOfChapters)||100)/h.value)});function v(k){var L;const x=Math.ceil(k/h.value),j=(x-1)*h.value+1,H=Math.min(x*h.value,((L=s.project)==null?void 0:L.numberOfChapters)||100);return{volumeNumber:x,startChapter:j,endChapter:H,isFirstInVolume:k===j}}const f=R(()=>$.value.map(k=>({...k,volumeInfo:v(k.number)})));function i(k){return k||"‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ"(k.match(/‚òÖ/g)||[]).length}function b(k){m.updateProject(s.project.id,{chapterBlueprint:k})}return(k,x)=>(c(),w("div",tn,[e.architectureGenerated?e.project.chapterBlueprint?(c(),w(ne,{key:2},[t("div",ln,[t("div",dn,[t("div",un,[t("div",cn,[x[11]||(x[11]=t("span",{class:"w-1.5 h-1.5 rounded-full bg-indigo-500"},null,-1)),t("span",gn,"ÂÖ± "+y(e.chapters.length)+" Á´†",1)]),n(r(V),{disabled:e.isGenerating,loading:e.isGenerating,onClick:x[1]||(x[1]=j=>g("regenerate")),secondary:"",class:"regen-button !bg-gray-100 dark:!bg-gray-800"},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(fe))]),_:1})]),default:d(()=>[x[12]||(x[12]=_(" ÈáçÊñ∞ÁîüÊàê ",-1))]),_:1},8,["disabled","loading"])]),t("div",hn,[t("button",{onClick:x[2]||(x[2]=j=>p.value="list"),class:q(["btn-unified h-10 rounded-xl text-sm font-medium flex items-center justify-center gap-1.5 transition-all duration-200",p.value==="list"?"bg-white dark:bg-[#25252a] text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 dark:text-gray-400"])},[n(r(de),{class:"w-4 h-4"}),x[13]||(x[13]=_(" Âç°ÁâáËßÜÂõæ ",-1))],2),t("button",{onClick:x[3]||(x[3]=j=>p.value="raw"),class:q(["btn-unified h-10 rounded-xl text-sm font-medium flex items-center justify-center gap-1.5 transition-all duration-200",p.value==="raw"?"bg-white dark:bg-[#25252a] text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-500 dark:text-gray-400"])},[n(r(J),{class:"w-4 h-4"}),x[14]||(x[14]=_(" ÂéüÂßãÊñáÊú¨ ",-1))],2)]),p.value==="list"?(c(),B(r(oe),{key:0,value:u.value,"onUpdate:value":x[4]||(x[4]=j=>u.value=j),placeholder:"ÊêúÁ¥¢Á´†ËäÇ...",clearable:"",class:"!bg-gray-50 dark:!bg-gray-800/50 !rounded-xl !border-transparent hover:!bg-white focus:!bg-white transition-colors"},{prefix:d(()=>[n(r(P),{class:"text-gray-400"},{default:d(()=>[n(r(me))]),_:1})]),_:1},8,["value"])):N("",!0)]),t("div",pn,[t("div",xn,[n(r(Ue),{value:p.value,"onUpdate:value":x[5]||(x[5]=j=>p.value=j),size:"small"},{default:d(()=>[n(r($e),{value:"list"},{default:d(()=>[t("div",mn,[n(r(de),{class:"w-4 h-4"}),x[15]||(x[15]=_(" Âç°ÁâáËßÜÂõæ ",-1))])]),_:1}),n(r($e),{value:"raw"},{default:d(()=>[t("div",fn,[n(r(J),{class:"w-4 h-4"}),x[16]||(x[16]=_(" ÂéüÂßãÊñáÊú¨ ",-1))])]),_:1})]),_:1},8,["value"]),n(r(z),{bordered:!1,round:"",class:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"},{default:d(()=>[_(" ÂÖ± "+y(e.chapters.length)+" Á´† ",1)]),_:1})]),t("div",bn,[t("div",vn,[p.value==="list"?(c(),B(r(oe),{key:0,value:u.value,"onUpdate:value":x[6]||(x[6]=j=>u.value=j),placeholder:"ÊêúÁ¥¢Á´†ËäÇ...",clearable:"",class:"!bg-gray-50 dark:!bg-gray-800/50 !rounded-xl !border-transparent hover:!bg-white focus:!bg-white transition-colors"},{prefix:d(()=>[n(r(P),{class:"text-gray-400"},{default:d(()=>[n(r(me))]),_:1})]),_:1},8,["value"])):N("",!0)]),n(r(V),{disabled:e.isGenerating,loading:e.isGenerating,onClick:x[7]||(x[7]=j=>g("regenerate")),secondary:"",class:"regen-button"},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(fe))]),_:1})]),default:d(()=>[x[17]||(x[17]=_(" ÈáçÊñ∞ÁîüÊàê ",-1))]),_:1},8,["disabled","loading"])])])]),p.value==="list"?(c(),w("div",kn,[(c(!0),w(ne,null,he(f.value,j=>(c(),w("div",{key:j.number,class:"bg-white dark:bg-[#1f1f23] rounded-2xl p-4 md:p-5 border border-gray-100 dark:border-gray-800 hover:border-indigo-200 dark:hover:border-indigo-600/30 hover:shadow-xl hover:shadow-indigo-500/5 transition-all duration-300 group"},[t("div",wn,[t("div",yn,[t("span",$n,y(j.number),1)]),t("div",_n,[t("h4",Cn,[t("span",jn,"Á¨¨"+y(j.number)+"Á´†",1),_(" "+y(j.title),1)]),t("div",Sn,[j.position?(c(),B(r(z),{key:0,bordered:!1,round:"",class:"bg-gray-100 dark:bg-gray-800 text-gray-500 !h-auto !py-1 !px-2 !text-[10px] md:!text-xs whitespace-normal text-left leading-tight"},{default:d(()=>[_(y(j.position),1)]),_:2},1024)):N("",!0),j.purpose?(c(),B(r(z),{key:1,type:"success",bordered:!1,round:"",class:"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400 !h-auto !py-1 !px-2 !text-[10px] md:!text-xs whitespace-normal text-left leading-tight max-w-full"},{default:d(()=>[_(y(j.purpose),1)]),_:2},1024)):N("",!0),j.suspense?(c(),B(r(z),{key:2,type:"warning",bordered:!1,round:"",class:"bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400 !h-auto !py-1 !px-2 !text-[10px] md:!text-xs whitespace-normal text-left leading-tight max-w-full"},{default:d(()=>[_(y(j.suspense),1)]),_:2},1024)):N("",!0)]),t("div",Gn,[j.summary?(c(),w("p",Mn,y(j.summary),1)):N("",!0)]),t("div",On,[j.foreshadowing?(c(),w("span",Nn,[n(r(bt),{class:"w-3.5 h-3.5"}),_(" ‰ºèÁ¨î: "+y(j.foreshadowing),1)])):N("",!0),j.twistLevel?(c(),w("span",Tn,[x[18]||(x[18]=_(" ËÆ§Áü•È¢†Ë¶Ü: ",-1)),t("span",Pn,y(i(j.twistLevel)),1)])):N("",!0)])])])]))),128)),$.value.length===0?(c(),w("div",Bn,[n(r(me),{class:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),x[19]||(x[19]=t("p",{class:"text-gray-500 dark:text-gray-400"},"Ê≤°ÊúâÊâæÂà∞ÂåπÈÖçÁöÑÁ´†ËäÇ",-1))])):N("",!0)])):(c(),w("div",zn,[n(r(oe),{type:"textarea",value:e.project.chapterBlueprint,"onUpdate:value":b,autosize:{minRows:20,maxRows:50},class:"novel-textarea"},null,8,["value"])]))],64)):(c(),w("div",on,[t("div",sn,[n(r(be),{class:"w-12 h-12 text-white"})]),x[10]||(x[10]=t("h3",{class:"text-2xl font-bold text-gray-800 dark:text-white mb-3"}," ÁîüÊàêÁ´†ËäÇÂ§ßÁ∫≤ ",-1)),t("p",an," AI Â∞ÜÂü∫‰∫éÂ∞èËØ¥Êû∂ÊûÑÔºåÁîüÊàê "+y(e.project.numberOfChapters)+" Á´†ÁöÑËØ¶ÁªÜÂ§ßÁ∫≤ÔºåÂåÖÂê´ÊÇ¨ÂøµËäÇÂ•èÊõ≤Á∫ø ",1),n(r(V),{type:"primary",size:"large",loading:e.isGenerating,onClick:x[0]||(x[0]=j=>g("generate")),class:"!px-8 !h-12"},Te({default:d(()=>[_(" "+y(e.isGenerating?"ÁîüÊàê‰∏≠...":"ÂºÄÂßãÁîüÊàêÂ§ßÁ∫≤"),1)]),_:2},[e.isGenerating?void 0:{name:"icon",fn:d(()=>[n(r(P),null,{default:d(()=>[n(r(Ae))]),_:1})]),key:"0"}]),1032,["loading"])])):(c(),w("div",rn,[t("div",nn,[n(r(re),{class:"w-12 h-12 text-white"})]),x[8]||(x[8]=t("h3",{class:"text-2xl font-bold text-gray-800 dark:text-white mb-3"}," ËØ∑ÂÖàÁîüÊàêÂ∞èËØ¥Êû∂ÊûÑ ",-1)),x[9]||(x[9]=t("p",{class:"text-gray-500 dark:text-gray-400 max-w-md mx-auto leading-relaxed"}," Á´†ËäÇÂ§ßÁ∫≤ÁöÑÁîüÊàêÈúÄË¶ÅÂü∫‰∫éÂ∞èËØ¥Êû∂ÊûÑÔºàÊ†∏ÂøÉÁßçÂ≠ê„ÄÅËßíËâ≤‰ΩìÁ≥ª„ÄÅ‰∏ñÁïåËßÇ„ÄÅÊÉÖËäÇÊû∂ÊûÑÔºâ ",-1))]))]))}},Ln={class:"space-y-4"},An={key:0,class:"bg-white dark:bg-[#1f1f23] rounded-2xl p-6 md:p-12 border border-gray-200/80 dark:border-gray-700/50 text-center"},Rn={class:"w-24 h-24 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-xl shadow-amber-500/25"},Dn={key:1,class:"h-full flex flex-col gap-4"},Xn={class:"hidden md:flex md:items-center justify-between gap-4 bg-white dark:bg-[#1f1f23] p-4 rounded-xl border border-gray-200/80 dark:border-gray-700/50"},Un={class:"flex items-center gap-3 w-full md:w-auto"},Wn={class:"flex-shrink-0"},En={class:"flex items-center justify-between mb-1"},Vn={class:"text-xs font-bold text-gray-800 dark:text-white"},Fn={class:"flex-shrink-0"},qn={class:"flex-1 min-w-[120px]"},Kn={class:"flex flex-col gap-1"},Hn={class:"flex items-center gap-2"},Qn={class:"text-sm font-bold text-gray-800 dark:text-white truncate max-w-[150px]"},In={class:"flex flex-wrap gap-2 ml-auto"},Jn={class:"md:hidden flex flex-col gap-3 mobile-toolbar-sticky"},Yn={class:"bg-white dark:bg-[#1f1f23] p-3 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-sm space-y-3"},Zn={class:"flex items-center justify-between gap-2"},eo={class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300"},to={class:"text-xs font-medium"},ro={class:"rounded-xl border border-gray-200/80 dark:border-gray-700/60 bg-gray-50/90 dark:bg-gray-800/40 p-2.5"},no={class:"flex items-center gap-1.5 text-[11px] text-gray-500 dark:text-gray-400 mb-2"},oo={class:"mt-2.5 flex items-center justify-between gap-2"},so={class:"min-w-0"},ao={class:"text-sm font-semibold text-gray-800 dark:text-gray-100 truncate"},lo={class:"bg-white/90 dark:bg-[#1f1f23]/90 backdrop-blur-md p-2 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-lg shadow-gray-200/50 dark:shadow-black/20 grid grid-cols-5 place-items-center"},io={class:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-500/20 flex items-center justify-center"},uo=["disabled"],co={class:"w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-500/20 flex items-center justify-center"},go=["disabled"],ho={class:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700/50 flex items-center justify-center"},po=["disabled"],xo={class:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-500/20 flex items-center justify-center"},mo=["disabled"],fo={class:"w-10 h-10 rounded-full bg-teal-100 dark:bg-teal-500/20 flex items-center justify-center"},bo={class:"flex-1 space-y-4"},vo={key:0,class:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/10 dark:to-orange-900/10 rounded-xl p-3 border border-amber-200/50 dark:border-amber-700/30"},ko={class:"flex items-center gap-2 mb-1"},wo={class:"text-xs text-gray-600 dark:text-gray-400 leading-relaxed whitespace-pre-wrap max-h-24 overflow-y-auto"},yo={key:1,class:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-xl p-3 border border-indigo-200/50 dark:border-indigo-700/50"},$o={class:"flex items-center gap-2"},_o={class:"text-indigo-700 dark:text-indigo-300 text-sm font-medium"},Co={class:"bg-white dark:bg-[#1f1f23] rounded-xl border border-gray-200/80 dark:border-gray-700/50 p-4"},jo={key:0,class:"flex flex-wrap gap-1.5 md:gap-2 text-xs mb-3 pb-3 border-b border-gray-100 dark:border-gray-700/50"},So={key:0,class:"w-full mt-1 text-gray-500 italic text-xs leading-relaxed"},Go={class:"text-right text-xs text-gray-400 mt-2 border-t border-gray-100 dark:border-gray-700/50 pt-2"},Mo={key:1,class:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700/50"},Oo={class:"flex items-center gap-2"},No={class:"flex items-center gap-2 mb-2"},To={class:"flex flex-wrap gap-2 text-xs"},Po={key:0,class:"mt-2 text-xs text-red-600 dark:text-red-400"},Bo={key:1,class:"mt-3 pt-2 border-t border-red-200 dark:border-red-700/50"},Ne={__name:"ChapterWriterPanel",props:{project:Object,isGenerating:Boolean},emits:["update:isGenerating"],setup(e,{emit:o}){const s=e,g=o,m=ge(),p=Pe(),u=Be(),$=ze(),h=E(1),v=E(""),f=E(""),i=E(!1),b=E(null),k=E(!1),x=R(()=>{var S;return(S=s.project)!=null&&S.chapterBlueprint?se(s.project.chapterBlueprint):[]}),j=R(()=>{var S;return Object.keys(((S=s.project)==null?void 0:S.chapters)||{}).length}),H=R(()=>{var l,O,A;const S=((l=s.project)==null?void 0:l.chapters)||{};for(let M=1;M<=((O=s.project)==null?void 0:O.numberOfChapters);M++)if(!S[M])return M;return((A=s.project)==null?void 0:A.numberOfChapters)||1}),L=R(()=>x.value.find(S=>S.number===h.value)||null),Q=R(()=>{var l,O;const S=((O=(l=L.value)==null?void 0:l.title)==null?void 0:O.trim())||"Êú™ÂëΩÂêç";return`Á¨¨${h.value}Á´† ${S}`}),U=R(()=>{var S,l;return!!((l=(S=s.project)==null?void 0:S.chapters)!=null&&l[h.value])});function I(S){var l,O;h.value=S,v.value=((O=(l=s.project)==null?void 0:l.chapters)==null?void 0:O[S])||""}async function Y(){var S,l,O,A;if(!p.apiConfig.apiKey){u.warning("ËØ∑ÂÖàÂú®ËÆæÁΩÆ‰∏≠ÈÖçÁΩÆ API Key");return}if(!((S=s.project)!=null&&S.blueprintGenerated)){u.warning("ËØ∑ÂÖàÁîüÊàêÁ´†ËäÇÂ§ßÁ∫≤");return}if(!(h.value>1&&!((O=(l=s.project)==null?void 0:l.chapters)!=null&&O[h.value-1])&&!await new Promise(T=>{$.warning({title:"ÊèêÁ§∫",content:`Á¨¨ ${h.value-1} Á´†ËøòÊú™ÁîüÊàêÔºåÂª∫ËÆÆÂÖàÊåâÈ°∫Â∫èÁîüÊàê„ÄÇÊòØÂê¶ÁªßÁª≠Ôºü`,positiveText:"ÁªßÁª≠ÁîüÊàê",negativeText:"ÂèñÊ∂à",onPositiveClick:()=>T(!0),onNegativeClick:()=>T(!1)})})))try{g("update:isGenerating",!0);const M=await Rr(s.project,h.value,p.getStageConfig("chapter"),T=>{f.value=T},T=>{v.value=T});v.value=M,u.success(`Á¨¨ ${h.value} Á´†ËçâÁ®øÁîüÊàêÂÆåÊàê`),b.value=null,k.value=!0,f.value="Ê≠£Âú®ËøõË°åË¥®Ê£Ä...";try{const T=x.value.find(xe=>xe.number===h.value),ee=x.value.find(xe=>xe.number===h.value+1),ye=await Ge({chapterText:M,chapterNumber:h.value,chapterTitle:(T==null?void 0:T.title)||`Á¨¨${h.value}Á´†`,chapterSummary:(T==null?void 0:T.summary)||"",wordNumber:((A=s.project)==null?void 0:A.wordNumber)||3e3,actualWordCount:M.length,nextChapterNumber:h.value+1,nextChapterTitle:(ee==null?void 0:ee.title)||"",nextChapterSummary:(ee==null?void 0:ee.summary)||""},p.getStageConfig("finalize"));b.value=ye,ye.overallPass?u.success("Ë¥®Ê£ÄÈÄöËøá ‚úì"):u.warning("Ë¥®Ê£ÄÂèëÁé∞ÈóÆÈ¢òÔºåËØ∑Ê£ÄÊü•")}catch(T){console.warn("Ë¥®Ê£ÄÂ§±Ë¥•:",T)}finally{k.value=!1}}catch(M){console.error("Generation error:",M),u.error("ÁîüÊàêÂ§±Ë¥•: "+M.message)}finally{g("update:isGenerating",!1),f.value=""}}async function G(){if(v.value)try{g("update:isGenerating",!0);const S=await Xr(v.value,p.getStageConfig("enrich"),l=>{f.value=l},l=>{v.value=l});v.value=S,u.success("Á´†ËäÇÊâ©ÂÜôÂÆåÊàê")}catch(S){u.error("Êâ©ÂÜôÂ§±Ë¥•: "+S.message)}finally{g("update:isGenerating",!1),f.value=""}}async function a(){var S,l;if(!(!v.value||!b.value))try{g("update:isGenerating",!0);const O=x.value.find(T=>T.number===h.value),A=x.value.find(T=>T.number===h.value+1),M=await Er({chapterText:v.value,chapterNumber:h.value,chapterTitle:(O==null?void 0:O.title)||`Á¨¨${h.value}Á´†`,chapterSummary:(O==null?void 0:O.summary)||"",wordNumber:((S=s.project)==null?void 0:S.wordNumber)||2e3,nextChapterNumber:h.value+1,nextChapterTitle:(A==null?void 0:A.title)||"",qualityResult:b.value},p.getStageConfig("chapter"),T=>{f.value=T},T=>{v.value=T});v.value=M,u.success("Á´†ËäÇ‰øÆÂ§çÂÆåÊàê"),b.value=null,k.value=!0,f.value="Ê≠£Âú®ÈáçÊñ∞Ë¥®Ê£Ä...";try{const T=await Ge({chapterText:M,chapterNumber:h.value,chapterTitle:(O==null?void 0:O.title)||`Á¨¨${h.value}Á´†`,chapterSummary:(O==null?void 0:O.summary)||"",wordNumber:((l=s.project)==null?void 0:l.wordNumber)||3e3,actualWordCount:M.length,nextChapterNumber:h.value+1,nextChapterTitle:(A==null?void 0:A.title)||"",nextChapterSummary:(A==null?void 0:A.summary)||""},p.getStageConfig("finalize"));b.value=T,T.overallPass?u.success("‰øÆÂ§çÂêéË¥®Ê£ÄÈÄöËøá ‚úì"):u.warning("‰ªçÊúâÈóÆÈ¢òÔºåÂèØÂÜçÊ¨°‰øÆÂ§ç")}catch(T){console.warn("ÈáçÊñ∞Ë¥®Ê£ÄÂ§±Ë¥•:",T)}finally{k.value=!1}}catch(O){u.error("‰øÆÂ§çÂ§±Ë¥•: "+O.message)}finally{g("update:isGenerating",!1),f.value=""}}function C(S){if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(S);const l=document.createElement("textarea");l.value=S,l.style.position="fixed",l.style.left="-9999px",document.body.appendChild(l),l.select();try{return document.execCommand("copy"),Promise.resolve()}catch(O){return Promise.reject(O)}finally{document.body.removeChild(l)}}function W(){if(!v.value){u.warning("ÂÜÖÂÆπ‰∏∫Á©∫");return}C(v.value).then(()=>u.success("Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø")).catch(()=>u.error("Â§çÂà∂Â§±Ë¥•"))}async function Z(){try{await C(Q.value),u.success("Á´†ËäÇÂêçÂ∑≤Â§çÂà∂")}catch{u.error("Â§çÂà∂Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï")}}function ke(){if(!v.value.trim()){u.warning("ÂÜÖÂÆπ‰∏∫Á©∫");return}const S={...s.project.chapters};S[h.value]=v.value,m.updateProject(s.project.id,{chapters:S}),u.success("Â∑≤‰øùÂ≠ò")}async function we(){if(i.value){console.log("ÂÆöÁ®øÂ∑≤Âú®ËøõË°å‰∏≠ÔºåÂøΩÁï•ÈáçÂ§çÁÇπÂáª");return}if(!v.value.trim()){u.warning("ÂÜÖÂÆπ‰∏∫Á©∫");return}try{i.value=!0,g("update:isGenerating",!0),f.value="Ê≠£Âú®Êõ¥Êñ∞Á´†ËäÇÊëòË¶ÅÂíåËßíËâ≤Áä∂ÊÄÅ...";const S=await Dr(s.project,h.value,v.value,p.getStageConfig("chapter"),l=>{f.value=l});if(m.updateProject(s.project.id,{chapters:{...s.project.chapters,[h.value]:v.value},...S}),u.success("Á´†ËäÇÂ∑≤ÂÆöÁ®øÔºå‰∏ä‰∏ãÊñáÂ∑≤Êõ¥Êñ∞"),h.value<s.project.numberOfChapters){const l=h.value+1;I(l)}}catch(S){console.error("Finalize error:",S),u.error("ÂÆöÁ®øÂ§±Ë¥•: "+S.message)}finally{i.value=!1,g("update:isGenerating",!1),f.value=""}}return I(H.value),(S,l)=>{var O,A;return c(),w("div",Ln,[(O=e.project)!=null&&O.blueprintGenerated?(c(),w("div",Dn,[t("div",Xn,[t("div",Un,[t("div",Wn,[t("div",En,[l[5]||(l[5]=t("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"ËøõÂ∫¶",-1)),t("span",Vn,y(j.value)+"/"+y(e.project.numberOfChapters),1)]),n(r(Le),{type:"line",percentage:e.project.numberOfChapters>0?Math.round(j.value/e.project.numberOfChapters*100):0,height:6,"border-radius":4,"fill-border-radius":4,"show-indicator":!1,class:"w-24"},null,8,["percentage"])]),t("div",Fn,[n(r(_e),{value:h.value,"onUpdate:value":[l[0]||(l[0]=M=>h.value=M),I],options:x.value.map(M=>({label:`Á¨¨${M.number}Á´† ${M.title}`,value:M.number})),placeholder:"ÈÄâÊã©Á´†ËäÇ",class:"w-40",size:"small"},null,8,["value","options"])]),t("div",qn,[t("div",Kn,[t("div",Hn,[t("h3",Qn,y(((A=L.value)==null?void 0:A.title)||"Êú™ÂëΩÂêç"),1),t("button",{type:"button",onClick:Z,class:"btn-unified inline-flex items-center gap-1 rounded-lg px-2 py-1 text-[11px] text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-500/15 hover:bg-indigo-100 dark:hover:bg-indigo-500/25 transition-colors"},[n(r(le),{class:"w-3.5 h-3.5"}),l[6]||(l[6]=_(" Â§çÂà∂Á´†ËäÇÂêç ",-1))]),U.value?(c(),B(r(z),{key:0,type:"success",size:"small",bordered:!1,round:""},{default:d(()=>[...l[7]||(l[7]=[_("Â∑≤‰øùÂ≠ò",-1)])]),_:1})):(c(),B(r(z),{key:1,type:"info",size:"small",bordered:!1,round:""},{default:d(()=>[...l[8]||(l[8]=[_("Êú™‰øùÂ≠ò",-1)])]),_:1}))])])])]),t("div",In,[n(r(V),{type:"primary",loading:e.isGenerating,onClick:Y,size:"small"},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(ve))]),_:1})]),default:d(()=>[l[9]||(l[9]=_(" ÁîüÊàê ",-1))]),_:1},8,["loading"]),n(r(V),{disabled:e.isGenerating||!v.value,onClick:G,secondary:"",size:"small"},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(ue))]),_:1})]),default:d(()=>[l[10]||(l[10]=_(" Êâ©ÂÜô ",-1))]),_:1},8,["disabled"]),e.isGenerating?N("",!0):(c(),B(r(V),{key:0,secondary:"",size:"small",class:"!px-3",onClick:W},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(le))]),_:1})]),default:d(()=>[l[11]||(l[11]=_(" Â§çÂà∂ ",-1))]),_:1})),e.isGenerating?N("",!0):(c(),B(r(V),{key:1,secondary:"",type:"error",size:"small",class:"!px-3",onClick:ke},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(Se))]),_:1})]),default:d(()=>[l[12]||(l[12]=_(" ‰øùÂ≠ò ",-1))]),_:1})),n(r(V),{type:"success",loading:e.isGenerating,disabled:!v.value,onClick:we,size:"small"},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(Ce))]),_:1})]),default:d(()=>[l[13]||(l[13]=_(" ÂÆöÁ®ø ",-1))]),_:1},8,["loading","disabled"])])]),t("div",Jn,[t("div",Yn,[t("div",Zn,[t("div",eo,[l[14]||(l[14]=t("span",{class:"w-1.5 h-1.5 rounded-full bg-emerald-500"},null,-1)),t("span",to,y(j.value)+"/"+y(e.project.numberOfChapters)+" Â∑≤ÂÆåÊàê",1)]),U.value?(c(),B(r(z),{key:0,type:"success",bordered:!1,size:"small",round:"",class:"!h-6 !px-2.5"},{default:d(()=>[...l[15]||(l[15]=[_(" Â∑≤Â≠ò ",-1)])]),_:1})):(c(),B(r(z),{key:1,type:"default",bordered:!1,size:"small",round:"",class:"!h-6 !px-2.5"},{default:d(()=>[...l[16]||(l[16]=[_(" Êú™Â≠ò ",-1)])]),_:1}))]),t("div",ro,[t("div",no,[n(r(J),{class:"w-3.5 h-3.5"}),l[17]||(l[17]=_(" ÂΩìÂâçÁ´†ËäÇ ",-1))]),n(r(_e),{value:h.value,"onUpdate:value":[l[1]||(l[1]=M=>h.value=M),I],options:x.value.map(M=>({label:`Á¨¨${M.number}Á´† ${M.title}`,value:M.number})),placeholder:"ÈÄâÊã©Á´†ËäÇ",class:"w-full",size:"small"},null,8,["value","options"]),t("div",oo,[t("div",so,[l[18]||(l[18]=t("div",{class:"text-[11px] text-gray-500 dark:text-gray-400 mb-0.5"},"Á´†ËäÇÂêç",-1)),t("div",ao,y(Q.value),1)]),t("button",{type:"button",onClick:Z,class:"btn-unified shrink-0 inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-500/15 hover:bg-indigo-100 dark:hover:bg-indigo-500/25 transition-colors"},[n(r(le),{class:"w-3.5 h-3.5"}),l[19]||(l[19]=_(" Â§çÂà∂Á´†ËäÇÂêç ",-1))])])])]),t("div",lo,[t("button",{class:q(["btn-unified flex flex-col items-center gap-1 p-2 rounded-xl transition-all active:scale-95 text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20",{"opacity-50 grayscale":e.isGenerating}]),onClick:Y},[t("div",io,[n(r(P),{size:"20"},{default:d(()=>[n(r(ve))]),_:1})]),l[20]||(l[20]=t("span",{class:"text-[10px] font-medium text-gray-500 dark:text-gray-400"},"ÁîüÊàê",-1))],2),t("button",{class:q(["btn-unified flex flex-col items-center gap-1 p-2 rounded-xl transition-all active:scale-95 text-purple-500 hover:bg-purple-50 dark:hover:bg-purple-900/20",{"opacity-50 grayscale":e.isGenerating||!v.value}]),disabled:e.isGenerating||!v.value,onClick:G},[t("div",co,[n(r(P),{size:"20"},{default:d(()=>[n(r(ue))]),_:1})]),l[21]||(l[21]=t("span",{class:"text-[10px] font-medium text-gray-500 dark:text-gray-400"},"Êâ©ÂÜô",-1))],10,uo),t("button",{class:q(["btn-unified flex flex-col items-center gap-1 p-2 rounded-xl transition-all active:scale-95 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",{"opacity-50 grayscale":e.isGenerating||!v.value}]),disabled:e.isGenerating||!v.value,onClick:W},[t("div",ho,[n(r(P),{size:"20"},{default:d(()=>[n(r(le))]),_:1})]),l[22]||(l[22]=t("span",{class:"text-[10px] font-medium text-gray-500 dark:text-gray-400"},"Â§çÂà∂",-1))],10,go),t("button",{class:q(["btn-unified flex flex-col items-center gap-1 p-2 rounded-xl transition-all active:scale-95 text-green-600 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20",{"opacity-50 grayscale":e.isGenerating||!v.value}]),disabled:e.isGenerating||!v.value,onClick:ke},[t("div",xo,[n(r(P),{size:"20"},{default:d(()=>[n(r(Se))]),_:1})]),l[23]||(l[23]=t("span",{class:"text-[10px] font-medium text-gray-500 dark:text-gray-400"},"‰øùÂ≠ò",-1))],10,po),t("button",{class:q(["btn-unified flex flex-col items-center gap-1 p-2 rounded-xl transition-all active:scale-95 text-teal-600 dark:text-teal-400 hover:bg-teal-50 dark:hover:bg-teal-900/20",{"opacity-50 grayscale":e.isGenerating||!v.value}]),disabled:!v.value,onClick:we},[t("div",fo,[n(r(P),{size:"20"},{default:d(()=>[n(r(Ce))]),_:1})]),l[24]||(l[24]=t("span",{class:"text-[10px] font-medium text-gray-500 dark:text-gray-400"},"ÂÆöÁ®ø",-1))],10,mo)])]),t("div",bo,[h.value>1&&e.project.globalSummary?(c(),w("div",vo,[t("div",ko,[n(r(J),{class:"w-4 h-4 text-amber-600 dark:text-amber-400"}),l[25]||(l[25]=t("span",{class:"text-xs font-medium text-amber-700 dark:text-amber-300"},"ÂâçÊñáÊëòË¶Å",-1))]),t("p",wo,y(e.project.globalSummary),1)])):N("",!0),e.isGenerating?(c(),w("div",yo,[t("div",$o,[n(r(ie),{class:"w-4 h-4 text-indigo-500 animate-spin"}),t("span",_o,y(f.value||"Â§ÑÁêÜ‰∏≠..."),1)])])):N("",!0),t("div",Co,[L.value?(c(),w("div",jo,[l[26]||(l[26]=t("span",{class:"text-gray-400 self-center"},"ÁõÆÊ†á:",-1)),n(r(z),{type:"success",bordered:!1,round:"",class:"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400 !h-auto !py-1 !px-2 !text-[10px] md:!text-xs whitespace-normal text-left leading-tight max-w-full"},{default:d(()=>[_(y(L.value.purpose),1)]),_:1}),n(r(z),{type:"warning",bordered:!1,round:"",class:"bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400 !h-auto !py-1 !px-2 !text-[10px] md:!text-xs whitespace-normal text-left leading-tight max-w-full"},{default:d(()=>[_(y(L.value.suspense),1)]),_:1}),L.value.summary?(c(),w("div",So,y(L.value.summary),1)):N("",!0)])):N("",!0),n(r(oe),{value:v.value,"onUpdate:value":l[2]||(l[2]=M=>v.value=M),type:"textarea",autosize:{minRows:15,maxRows:30},placeholder:`Âú®Ê≠§ÁºñÂÜôÊàñÁîüÊàêÁ¨¨ ${h.value} Á´†ÂÜÖÂÆπ...`,class:"novel-textarea !border-0 !bg-transparent !p-0"},null,8,["value","placeholder"]),t("div",Go,y(v.value?v.value.length:0)+" Â≠ó ",1),k.value?(c(),w("div",Mo,[t("div",Oo,[n(r(ie),{class:"w-4 h-4 text-blue-500 animate-spin"}),l[27]||(l[27]=t("span",{class:"text-blue-700 dark:text-blue-300 text-sm"},"Ê≠£Âú®Ë¥®Ê£Ä...",-1))])])):b.value?(c(),w("div",{key:2,class:q(["mt-3 p-3 rounded-lg border",b.value.overallPass?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700/50":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700/50"])},[t("div",No,[b.value.overallPass?(c(),B(r(st),{key:0,class:"w-4 h-4 text-green-600"})):(c(),B(r(re),{key:1,class:"w-4 h-4 text-red-500"})),t("span",{class:q(["font-medium text-sm",b.value.overallPass?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"])},y(b.value.overallPass?"Ë¥®Ê£ÄÈÄöËøá":"Ë¥®Ê£ÄÂèëÁé∞ÈóÆÈ¢ò"),3)]),t("div",To,[n(r(z),{type:b.value.wordCountPass?"success":"error",size:"small",bordered:!1,round:""},{default:d(()=>[_(" Â≠óÊï∞: "+y(b.value.wordCount)+"Â≠ó "+y(b.value.wordCountPass?"‚úì":"‚úó"),1)]),_:1},8,["type"]),n(r(z),{type:b.value.contentMatch?"success":"error",size:"small",bordered:!1,round:""},{default:d(()=>[_(" ÂÜÖÂÆπÂåπÈÖç "+y(b.value.contentMatch?"‚úì":"‚úó"),1)]),_:1},8,["type"]),n(r(z),{type:b.value.nextChapterSpill?"error":"success",size:"small",bordered:!1,round:""},{default:d(()=>[_(" Êú™Ë∂äÁïå "+y(b.value.nextChapterSpill?"‚úóË∂äÁïå!":"‚úì"),1)]),_:1},8,["type"]),n(r(z),{type:b.value.hasCliffhanger?"success":"warning",size:"small",bordered:!1,round:""},{default:d(()=>[_(" Êñ≠Á´†Èí©Â≠ê "+y(b.value.hasCliffhanger?"‚úì":"?"),1)]),_:1},8,["type"])]),b.value.issues&&b.value.issues.length>0?(c(),w("div",Po,[(c(!0),w(ne,null,he(b.value.issues,(M,T)=>(c(),w("div",{key:T},"‚Ä¢ "+y(M),1))),128))])):N("",!0),b.value.overallPass?N("",!0):(c(),w("div",Bo,[n(r(V),{type:"warning",size:"small",loading:e.isGenerating,onClick:a},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(ie))]),_:1})]),default:d(()=>[l[28]||(l[28]=_(" AI Ëá™Âä®‰øÆÂ§ç ",-1))]),_:1},8,["loading"])]))],2)):N("",!0)])])])):(c(),w("div",An,[t("div",Rn,[n(r(re),{class:"w-12 h-12 text-white"})]),l[3]||(l[3]=t("h3",{class:"text-2xl font-bold text-gray-800 dark:text-white mb-3"},"ËØ∑ÂÖàÁîüÊàêÁ´†ËäÇÂ§ßÁ∫≤",-1)),l[4]||(l[4]=t("p",{class:"text-gray-500 dark:text-gray-400 max-w-md mx-auto leading-relaxed"}," Á´†ËäÇÊ≠£ÊñáÁöÑÁîüÊàêÈúÄË¶ÅÂü∫‰∫éÁ´†ËäÇÂ§ßÁ∫≤ ",-1))]))])}}},zo={key:0,class:"max-w-5xl mx-auto px-3 md:px-4"},Lo={class:"mb-5 md:mb-6"},Ao={class:"flex items-center gap-3 mb-4"},Ro={class:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 p-3.5 md:p-0 rounded-2xl md:rounded-none bg-white/80 dark:bg-[#1f1f23]/75 md:bg-transparent md:dark:bg-transparent border border-gray-100 dark:border-gray-800 md:border-0 shadow-sm md:shadow-none"},Do={class:"text-xl md:text-2xl font-bold text-gray-800 dark:text-white mb-2"},Xo={class:"flex flex-wrap items-center gap-2.5 text-xs md:text-sm text-gray-500 dark:text-gray-400"},Uo={class:"md:hidden mt-2"},Wo={key:0,class:"flex items-center gap-2 px-3 py-2 rounded-lg bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 self-start"},Eo={key:0,class:"mb-5 md:mb-6 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-xl p-4 md:p-5 border border-indigo-200/50 dark:border-indigo-700/50"},Vo={class:"flex items-center gap-4"},Fo={class:"flex-1"},qo={class:"text-gray-800 dark:text-white font-medium mb-2"},Ko={key:0,class:"md:hidden fixed left-4 right-4 mobile-surface-glass border border-gray-200/50 dark:border-gray-700/50 pb-safe z-[2000] rounded-2xl shadow-2xl shadow-black/20 mobile-nav-safe"},Ho={class:"grid grid-cols-4 h-16 items-center"},Qo=["onClick"],Io={class:"text-[10px] font-medium transition-colors scale-90"},Jo={key:0,class:"absolute top-3 right-[25%] w-1.5 h-1.5 rounded-full bg-green-500 ring-2 ring-white dark:ring-[#1f1f23]"},Yo={class:"hidden md:block"},Zo={class:"flex items-center gap-2"},es={class:"flex items-center gap-2"},ts={class:"flex items-center gap-2"},rs={class:"flex items-center gap-2"},ns={class:"bg-white dark:bg-[#1f1f23] rounded-2xl p-8 border border-gray-200/80 dark:border-gray-700/50"},os={class:"grid grid-cols-3 gap-4 mb-8"},ss={class:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20 rounded-xl p-5 text-center"},as={class:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent"},ls={class:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-5 text-center"},is={class:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent"},ds={class:"bg-gradient-to-br from-rose-50 to-orange-50 dark:from-rose-900/20 dark:to-orange-900/20 rounded-xl p-5 text-center"},us={class:"text-4xl font-bold bg-gradient-to-r from-rose-600 to-orange-600 bg-clip-text text-transparent"},cs={class:"grid grid-cols-2 gap-6 max-w-2xl"},gs=["disabled"],hs={class:"w-14 h-14 rounded-2xl bg-blue-50 dark:bg-blue-900/20 text-blue-600 flex items-center justify-center mr-4 group-hover:scale-110 transition-transform"},ps=["disabled"],xs={class:"w-14 h-14 rounded-2xl bg-purple-50 dark:bg-purple-900/20 text-purple-600 flex items-center justify-center mr-4 group-hover:scale-110 transition-transform"},ms={key:0,class:"flex items-center gap-2 mt-6 text-amber-600 dark:text-amber-400 text-sm"},fs={class:"md:hidden pb-36"},bs={key:3,class:"space-y-4"},vs={class:"bg-white dark:bg-[#1f1f23] rounded-2xl p-5 border border-gray-200/80 dark:border-gray-700/50"},ks={class:"grid grid-cols-2 gap-3 mb-6"},ws={class:"bg-gray-50 dark:bg-gray-800 p-3 rounded-xl text-center"},ys={class:"text-2xl font-bold text-indigo-600"},$s={class:"bg-gray-50 dark:bg-gray-800 p-3 rounded-xl text-center"},_s={class:"text-2xl font-bold text-rose-600"},Cs={class:"space-y-3"},js=["disabled"],Ss={class:"w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 flex items-center justify-center mr-3"},Gs=["disabled"],Ms={class:"w-10 h-10 rounded-lg bg-purple-50 dark:bg-purple-900/20 text-purple-600 flex items-center justify-center mr-3"},Os={key:1,class:"text-center py-20"},Rs={__name:"ProjectView",setup(e){const o=We(),s=Fe(),g=ge(),m=Pe(),p=Be(),u=ze(),$=E("architecture"),h=E(!1),v=E(""),f=E({current:0,total:0}),i=R(()=>g.projects.find(G=>G.id===o.params.id)),b=R(()=>{var G;return(G=i.value)!=null&&G.chapterBlueprint?se(i.value.chapterBlueprint):[]}),k=R(()=>!!m.apiConfig.apiKey),x=R(()=>{var a;const G=(a=i.value)==null?void 0:a.genre;return Array.isArray(G)?G.join(" / "):G||""}),j=R(()=>{var G,a;return(G=i.value)!=null&&G.blueprintGenerated?"Êû∂ÊûÑ‰∏éÂ§ßÁ∫≤Â∑≤ÂÆåÊàê":(a=i.value)!=null&&a.architectureGenerated?"Êû∂ÊûÑÂ∑≤ÂÆåÊàê":"ÂæÖÂºÄÂßãÂàõ‰Ωú"});Ee(()=>{g.isLoaded?H():Ve(()=>g.isLoaded,G=>{G&&H()})});function H(){i.value||(p.error("È°πÁõÆ‰∏çÂ≠òÂú®"),s.push("/"))}async function L(){if(!k.value){p.warning("ËØ∑ÂÖàÂú®ËÆæÁΩÆ‰∏≠ÈÖçÁΩÆ API Key");return}try{h.value=!0;const G=await zr(i.value,m.getStageConfig("architecture"),(a,C,W)=>{v.value=a,f.value={current:C,total:W}},(a,C)=>{g.updateProject(i.value.id,{[a]:C})});g.updateProject(i.value.id,{...G,architectureGenerated:!0}),p.success("Â∞èËØ¥Êû∂ÊûÑÁîüÊàêÂÆåÊàê!")}catch(G){console.error("Generation error:",G),p.error("ÁîüÊàêÂ§±Ë¥•: "+G.message)}finally{h.value=!1,v.value=""}}async function Q(){if(!k.value){p.warning("ËØ∑ÂÖàÂú®ËÆæÁΩÆ‰∏≠ÈÖçÁΩÆ API Key");return}if(!i.value.architectureGenerated){p.warning("ËØ∑ÂÖàÁîüÊàêÂ∞èËØ¥Êû∂ÊûÑ");return}try{h.value=!0;const G=await Lr(i.value,m.getStageConfig("blueprint"),(a,C,W)=>{v.value=a,f.value={current:C,total:W}},a=>{g.updateProject(i.value.id,{chapterBlueprint:a})});g.updateProject(i.value.id,{chapterBlueprint:G,blueprintGenerated:!0}),p.success("Á´†ËäÇÂ§ßÁ∫≤ÁîüÊàêÂÆåÊàê!")}catch(G){console.error("Generation error:",G),p.error("ÁîüÊàêÂ§±Ë¥•: "+G.message)}finally{h.value=!1,v.value=""}}const U=R(()=>{var G;return Object.keys(((G=i.value)==null?void 0:G.chapters)||{}).length});function I(G){if(!i.value)return;const a=G==="markdown"?Wr(i.value):Ur(i.value),C=new Blob([a],{type:"text/plain;charset=utf-8"}),W=URL.createObjectURL(C),Z=document.createElement("a");Z.href=W,Z.download=`${i.value.title}.${G==="markdown"?"md":"txt"}`,Z.click(),URL.revokeObjectURL(W),p.success("ÂØºÂá∫ÊàêÂäü")}async function Y(G){u.warning({title:"ÈáçÊñ∞ÁîüÊàêÁ°ÆËÆ§",content:`Á°ÆÂÆöË¶ÅÈáçÊñ∞ÁîüÊàê${G==="architecture"?"Â∞èËØ¥Êû∂ÊûÑ":"Á´†ËäÇÂ§ßÁ∫≤"}ÂêóÔºüÁé∞ÊúâÂÜÖÂÆπÂ∞ÜË¢´Ë¶ÜÁõñ„ÄÇ`,positiveText:"Á°ÆÂÆö",negativeText:"ÂèñÊ∂à",onPositiveClick:()=>{G==="architecture"?(g.updateProject(i.value.id,{coreSeed:"",characterDynamics:"",worldBuilding:"",plotArchitecture:"",characterState:"",architectureGenerated:!1}),L()):(g.updateProject(i.value.id,{chapterBlueprint:"",blueprintGenerated:!1}),Q())}})}return(G,a)=>i.value?(c(),w("div",zo,[t("div",Lo,[t("div",Ao,[n(r(V),{text:"",class:"!px-2",onClick:a[0]||(a[0]=C=>r(s).push("/"))},{icon:d(()=>[n(r(P),null,{default:d(()=>[n(r(et))]),_:1})]),default:d(()=>[a[13]||(a[13]=_(" ËøîÂõû ",-1))]),_:1})]),t("div",Ro,[t("div",null,[t("h1",Do,y(i.value.title),1),t("div",Xo,[n(r(z),{bordered:!1,round:"",size:"small"},{default:d(()=>[_(y(x.value),1)]),_:1}),t("span",null,y(i.value.numberOfChapters)+" Á´†",1),a[14]||(a[14]=t("span",null,"¬∑",-1)),t("span",null,"ÊØèÁ´† "+y(i.value.wordNumber)+" Â≠ó",1)]),t("div",Uo,[n(r(z),{bordered:!1,round:"",class:"bg-indigo-50 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-300"},{default:d(()=>[_(y(j.value),1)]),_:1})])]),k.value?N("",!0):(c(),w("div",Wo,[n(r(re),{class:"w-5 h-5"}),a[15]||(a[15]=t("span",{class:"text-sm font-medium"},"ËØ∑ÈÖçÁΩÆ API Key",-1))]))])]),h.value?(c(),w("div",Eo,[t("div",Vo,[n(r(ie),{class:"w-6 h-6 text-indigo-500 animate-spin"}),t("div",Fo,[t("div",qo,y(v.value),1),n(r(Le),{type:"line",percentage:f.value.total>0?Math.round(f.value.current/f.value.total*100):0,height:8,"border-radius":4,"fill-border-radius":4,"show-indicator":!1},null,8,["percentage"])])])])):N("",!0),(c(),B(qe,{to:"body"},[i.value?(c(),w("div",Ko,[t("div",Ho,[(c(),w(ne,null,he(["architecture","blueprint","writer","export"],C=>t("button",{key:C,onClick:W=>$.value=C,class:q(["btn-unified flex flex-col items-center justify-center gap-1 relative h-full w-full",$.value===C?"text-indigo-600 dark:text-indigo-400":"text-gray-400 dark:text-gray-500"])},[t("div",{class:q(["w-10 h-8 rounded-full flex items-center justify-center transition-all duration-300",$.value===C?"bg-indigo-50 dark:bg-indigo-500/20 scale-100":"scale-90"])},[C==="architecture"?(c(),B(r(P),{key:0,size:"22"},{default:d(()=>[n(r(de))]),_:1})):C==="blueprint"?(c(),B(r(P),{key:1,size:"22"},{default:d(()=>[n(r(be))]),_:1})):C==="writer"?(c(),B(r(P),{key:2,size:"22"},{default:d(()=>[n(r(ue))]),_:1})):(c(),B(r(P),{key:3,size:"22"},{default:d(()=>[n(r(je))]),_:1}))],2),t("span",Io,y(C==="architecture"?"Êû∂ÊûÑ":C==="blueprint"?"Â§ßÁ∫≤":C==="writer"?"ÂÜô‰Ωú":"ÂØºÂá∫"),1),C==="architecture"&&i.value.architectureGenerated||C==="blueprint"&&i.value.blueprintGenerated?(c(),w("div",Jo)):N("",!0)],10,Qo)),64))])])):N("",!0)])),t("div",Yo,[n(r(Ke),{value:$.value,"onUpdate:value":a[6]||(a[6]=C=>$.value=C),type:"segment",animated:"",class:"novel-tabs"},{default:d(()=>[n(r(ae),{name:"architecture"},{tab:d(()=>[t("div",Zo,[n(r(de),{class:"w-4 h-4"}),a[17]||(a[17]=t("span",null,"Â∞èËØ¥Êû∂ÊûÑ",-1)),i.value.architectureGenerated?(c(),B(r(z),{key:0,type:"success",size:"small",bordered:!1,round:""},{default:d(()=>[...a[16]||(a[16]=[_("Â∑≤ÁîüÊàê",-1)])]),_:1})):N("",!0)])]),default:d(()=>[n(Me,{project:i.value,"is-generating":h.value,onGenerate:L,onRegenerate:a[1]||(a[1]=C=>Y("architecture"))},null,8,["project","is-generating"])]),_:1}),n(r(ae),{name:"blueprint"},{tab:d(()=>[t("div",es,[n(r(be),{class:"w-4 h-4"}),a[19]||(a[19]=t("span",null,"Á´†ËäÇÂ§ßÁ∫≤",-1)),i.value.blueprintGenerated?(c(),B(r(z),{key:0,type:"success",size:"small",bordered:!1,round:""},{default:d(()=>[...a[18]||(a[18]=[_("Â∑≤ÁîüÊàê",-1)])]),_:1})):N("",!0)])]),default:d(()=>[n(Oe,{project:i.value,chapters:b.value,"is-generating":h.value,"architecture-generated":i.value.architectureGenerated,onGenerate:Q,onRegenerate:a[2]||(a[2]=C=>Y("blueprint"))},null,8,["project","chapters","is-generating","architecture-generated"])]),_:1}),n(r(ae),{name:"writer"},{tab:d(()=>[t("div",ts,[n(r(ue),{class:"w-4 h-4"}),a[20]||(a[20]=t("span",null,"Á´†ËäÇÂÜô‰Ωú",-1)),U.value>0?(c(),B(r(z),{key:0,type:"success",size:"small",bordered:!1,round:""},{default:d(()=>[_(y(U.value)+"/"+y(i.value.numberOfChapters),1)]),_:1})):N("",!0)])]),default:d(()=>[n(Ne,{project:i.value,"is-generating":h.value,"onUpdate:isGenerating":a[3]||(a[3]=C=>h.value=C)},null,8,["project","is-generating"])]),_:1}),n(r(ae),{name:"export"},{tab:d(()=>[t("div",rs,[n(r(je),{class:"w-4 h-4"}),a[21]||(a[21]=t("span",null,"ÂØºÂá∫",-1))])]),default:d(()=>[t("div",ns,[a[30]||(a[30]=t("h3",{class:"text-xl font-bold text-gray-800 dark:text-white mb-6"},"ÂØºÂá∫Â∞èËØ¥",-1)),t("div",os,[t("div",ss,[t("div",as,y(U.value),1),a[22]||(a[22]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Â∑≤ÂÆåÊàêÁ´†ËäÇ",-1))]),t("div",ls,[t("div",is,y(i.value.numberOfChapters),1),a[23]||(a[23]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"ÊÄªÁ´†ËäÇÊï∞",-1))]),t("div",ds,[t("div",us,y(Object.values(i.value.chapters||{}).reduce((C,W)=>C+W.length,0)),1),a[24]||(a[24]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"ÊÄªÂ≠óÊï∞",-1))])]),t("div",cs,[t("button",{onClick:a[4]||(a[4]=C=>I("txt")),disabled:U.value===0,class:"btn-unified flex items-center p-5 rounded-2xl border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700 hover:shadow-lg hover:shadow-blue-500/10 dark:hover:shadow-blue-900/20 active:scale-95 transition-all text-left bg-white dark:bg-[#1f1f23] group relative overflow-hidden"},[a[25]||(a[25]=t("div",{class:"absolute right-0 top-0 w-20 h-20 bg-gradient-to-br from-blue-500/10 to-transparent -mr-5 -mt-5 rounded-full blur-xl transition-all group-hover:scale-150"},null,-1)),t("div",hs,[n(r(P),{size:"28"},{default:d(()=>[n(r(J))]),_:1})]),a[26]||(a[26]=t("div",null,[t("h4",{class:"font-bold text-lg text-gray-800 dark:text-gray-200 mb-1"},"ÂØºÂá∫‰∏∫ TXT"),t("p",{class:"text-sm text-gray-400"},"Á∫ØÊñáÊú¨Ê†ºÂºèÔºåÈÄöÁî®ÊÄßÂº∫ÔºåÈÄÇÂêàÂêÑÁ±ªÈòÖËØªÂô®")],-1))],8,gs),t("button",{onClick:a[5]||(a[5]=C=>I("markdown")),disabled:U.value===0,class:"btn-unified flex items-center p-5 rounded-2xl border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700 hover:shadow-lg hover:shadow-purple-500/10 dark:hover:shadow-purple-900/20 active:scale-95 transition-all text-left bg-white dark:bg-[#1f1f23] group relative overflow-hidden"},[a[27]||(a[27]=t("div",{class:"absolute right-0 top-0 w-20 h-20 bg-gradient-to-br from-purple-500/10 to-transparent -mr-5 -mt-5 rounded-full blur-xl transition-all group-hover:scale-150"},null,-1)),t("div",xs,[n(r(P),{size:"28"},{default:d(()=>[n(r(J))]),_:1})]),a[28]||(a[28]=t("div",null,[t("h4",{class:"font-bold text-lg text-gray-800 dark:text-gray-200 mb-1"},"ÂØºÂá∫‰∏∫ Markdown"),t("p",{class:"text-sm text-gray-400"},"‰øùÁïôÊ†áÈ¢òÊ†ºÂºèÔºåÈÄÇÂêà‰∫åÊ¨°ÁºñËæëÂíåÊéíÁâà")],-1))],8,ps)]),U.value===0?(c(),w("div",ms,[n(r(re),{class:"w-4 h-4"}),a[29]||(a[29]=_(" ËøòÊ≤°ÊúâÂ∑≤ÂÆåÊàêÁöÑÁ´†ËäÇÔºåËØ∑ÂÖàÂú®„ÄåÁ´†ËäÇÂÜô‰Ωú„Äç‰∏≠ÁîüÊàêÁ´†ËäÇÂÜÖÂÆπ ",-1))])):N("",!0)])]),_:1})]),_:1},8,["value"])]),t("div",fs,[$.value==="architecture"?(c(),B(Me,{key:0,project:i.value,"is-generating":h.value,onGenerate:L,onRegenerate:a[7]||(a[7]=C=>Y("architecture"))},null,8,["project","is-generating"])):N("",!0),$.value==="blueprint"?(c(),B(Oe,{key:1,project:i.value,chapters:b.value,"is-generating":h.value,"architecture-generated":i.value.architectureGenerated,onGenerate:Q,onRegenerate:a[8]||(a[8]=C=>Y("blueprint"))},null,8,["project","chapters","is-generating","architecture-generated"])):N("",!0),$.value==="writer"?(c(),B(Ne,{key:2,project:i.value,"is-generating":h.value,"onUpdate:isGenerating":a[9]||(a[9]=C=>h.value=C)},null,8,["project","is-generating"])):N("",!0),$.value==="export"?(c(),w("div",bs,[t("div",vs,[a[35]||(a[35]=t("h3",{class:"text-lg font-bold text-gray-800 dark:text-white mb-4"},"ÂØºÂá∫ÁªüËÆ°",-1)),t("div",ks,[t("div",ws,[t("div",ys,y(U.value),1),a[31]||(a[31]=t("div",{class:"text-xs text-gray-500"},"Â∑≤ÂÜôÁ´†ËäÇ",-1))]),t("div",$s,[t("div",_s,y(Object.values(i.value.chapters||{}).reduce((C,W)=>C+W.length,0)),1),a[32]||(a[32]=t("div",{class:"text-xs text-gray-500"},"ÊÄªÂ≠óÊï∞",-1))])]),t("div",Cs,[t("button",{onClick:a[10]||(a[10]=C=>I("txt")),disabled:U.value===0,class:"btn-unified w-full flex items-center p-4 rounded-xl border border-gray-200 dark:border-gray-700 active:scale-95 transition-transform disabled:opacity-50"},[t("div",Ss,[n(r(P),{size:"20"},{default:d(()=>[n(r(J))]),_:1})]),a[33]||(a[33]=t("div",{class:"text-left"},[t("div",{class:"font-medium text-gray-800 dark:text-gray-200"},"ÂØºÂá∫‰∏∫ TXT"),t("div",{class:"text-xs text-gray-400"},"Á∫ØÊñáÊú¨Ê†ºÂºèÔºåÈÄöÁî®ÊÄßÂº∫")],-1))],8,js),t("button",{onClick:a[11]||(a[11]=C=>I("markdown")),disabled:U.value===0,class:"btn-unified w-full flex items-center p-4 rounded-xl border border-gray-200 dark:border-gray-700 active:scale-95 transition-transform disabled:opacity-50"},[t("div",Ms,[n(r(P),{size:"20"},{default:d(()=>[n(r(J))]),_:1})]),a[34]||(a[34]=t("div",{class:"text-left"},[t("div",{class:"font-medium text-gray-800 dark:text-gray-200"},"ÂØºÂá∫‰∏∫ Markdown"),t("div",{class:"text-xs text-gray-400"},"‰øùÁïôÊ†ºÂºèÔºåÈÄÇÂêàÊéíÁâà")],-1))],8,Gs)])])])):N("",!0)])])):(c(),w("div",Os,[n(r(re),{class:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),a[37]||(a[37]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"È°πÁõÆ‰∏çÂ≠òÂú®ÊàñÂ∑≤Ë¢´Âà†Èô§",-1)),n(r(V),{type:"primary",onClick:a[12]||(a[12]=C=>r(s).push("/"))},{default:d(()=>[...a[36]||(a[36]=[_(" ËøîÂõûÈ¶ñÈ°µ ",-1)])]),_:1})]))}};export{Rs as default};
